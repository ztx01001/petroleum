import{a5 as t,a6 as e,a7 as i,a8 as n,a9 as o,aa as r,ab as a,ac as s,ad as l,ae as d,af as u,ag as h,ah as p,ai as c,aj as g,ak as f,al as y,am as m,an as v,ao as x,ap as _,aq as b,ar as w,as as A,at as S,au as I,av as M,aw as C,ax as T,ay as D,az as L,aA as k,aB as P,aC as O,aD as N,aE as R,aF as B,aG as E,aH as z,aI as G,aJ as V,aK as H,aL as U,aM as W,aN as F,aO as Y,aP as X,aQ as Z,aR as j,aS as K,aT as q,aU as J,aV as Q,aW as $,aX as tt,aY as et,aZ as it,a_ as nt,a$ as ot,b0 as rt,b1 as at,b2 as st,b3 as lt,b4 as dt,b5 as ut,b6 as ht,b7 as pt,b8 as ct,b9 as gt,ba as ft,bb as yt,bc as mt,bd as vt,be as xt,bf as _t,bg as bt,bh as wt,bi as At,bj as St,bk as It,bl as Mt,bm as Ct,bn as Tt,bo as Dt,bp as Lt,bq as kt,br as Pt,bs as Ot,bt as Nt,bu as Rt,bv as Bt,bw as Et,bx as zt,by as Gt,bz as Vt,bA as Ht,bB as Ut,bC as Wt,bD as Ft,bE as Yt,bF as Xt,bG as Zt,bH as jt,bI as Kt,bJ as qt,bK as Jt,bL as Qt,bM as $t,bN as te,bO as ee,bP as ie,bQ as ne,bR as oe,bS as re,bT as ae,bU as se,bV as le,bW as de,X as ue,bX as he,bY as pe,bZ as ce,b_ as ge,b$ as fe,c0 as ye,c1 as me,c2 as ve,c3 as xe,c4 as _e,c5 as be,c6 as we,c7 as Ae,c8 as Se,c9 as Ie,ca as Me,cb as Ce,cc as Te,cd as De,ce as Le,cf as ke,cg as Pe,ch as Oe,ci as Ne}from"./vendor.a2f65e0a.js";function Re(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Be(e){var i;if(e&&"transparent"!==e){if("string"==typeof e&&e.indexOf("rgba")>-1){var n=t(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",i=n[3])}}else e="none";return{color:e,opacity:null==i?1:i}}function Ee(t,e,i,n,o){for(var r=e.length,a=i.length,s=t.newPos,l=s-n,d=0;s+1<r&&l+1<a&&o(e[s+1],i[l+1]);)s++,l++,d++;return d&&t.components.push({count:d,added:!1,removed:!1,indices:[]}),t.newPos=s,l}function ze(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i,indices:[]}:t.push({count:1,added:e,removed:i,indices:[]})}function Ge(t){for(var e=0,i=t.length,n=0,o=0;e<i;e++){var r=t[e];if(r.removed){for(s=o;s<o+r.count;s++)r.indices.push(s);o+=r.count}else{for(var a=[],s=n;s<n+r.count;s++)a.push(s);r.indices=a,n+=r.count,r.added||(o+=r.count)}}return t}function Ve(t,e,i){return function(t,e,i){i||(i=function(t,e){return t===e}),t=t.slice();var n=(e=e.slice()).length,o=t.length,r=1,a=n+o,s=[{newPos:-1,components:[]}],l=Ee(s[0],e,t,0,i);if(s[0].newPos+1>=n&&l+1>=o){for(var d=[],u=0;u<e.length;u++)d.push(u);return[{indices:d,count:e.length,added:!1,removed:!1}]}function h(){for(var a=-1*r;a<=r;a+=2){var l,d=s[a-1],u=s[a+1],h=(u?u.newPos:0)-a;d&&(s[a-1]=void 0);var p=d&&d.newPos+1<n,c=u&&0<=h&&h<o;if(p||c){if(!p||c&&d.newPos<u.newPos?ze((l={newPos:(g=u).newPos,components:g.components.slice(0)}).components,!1,!0):((l=d).newPos++,ze(l.components,!0,!1)),h=Ee(l,e,t,a,i),l.newPos+1>=n&&h+1>=o)return Ge(l.components);s[a]=l}else s[a]=void 0}var g;r++}for(;r<=a;){var p=h();if(p)return p}}(t,e,i)}var He=Math.round,Ue=Math.sin,We=Math.cos,Fe=Math.PI,Ye=2*Math.PI,Xe=180/Fe;function Ze(t){return He(1e3*t)/1e3}function je(t){return He(1e4*t)/1e4}function Ke(t){return t<1e-4&&t>-1e-4}function qe(t,e){e&&Je(t,"transform","matrix("+Ze(e[0])+","+Ze(e[1])+","+Ze(e[2])+","+Ze(e[3])+","+je(e[4])+","+je(e[5])+")")}function Je(t,e,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&t.setAttribute(e,i)}function Qe(t,e,i){var a=null==e.opacity?1:e.opacity;if(i instanceof n)Je(t,"opacity",a+"");else{if(function(t){var e=t.fill;return null!=e&&"none"!==e}(e)){var s=Be(e.fill);Je(t,"fill",s.color),Je(t,"fill-opacity",(null!=e.fillOpacity?e.fillOpacity*s.opacity*a:s.opacity*a)+"")}else Je(t,"fill","none");if(function(t){var e=t.stroke;return null!=e&&"none"!==e}(e)){var l=Be(e.stroke);Je(t,"stroke",l.color);var d=e.lineWidth,u=e.strokeNoScale?i.getLineScale():1;Je(t,"stroke-width",(u?d/u:0)+""),Je(t,"paint-order",e.strokeFirst?"stroke":"fill"),Je(t,"stroke-opacity",(null!=e.strokeOpacity?e.strokeOpacity*l.opacity*a:l.opacity*a)+"");var h=e.lineDash&&d>0&&o(e.lineDash,d);if(h){var p=e.lineDashOffset;u&&1!==u&&(h=r(h,(function(t){return t/u})),p&&(p=He(p/=u))),Je(t,"stroke-dasharray",h.join(",")),Je(t,"stroke-dashoffset",(p||0)+"")}else Je(t,"stroke-dasharray","none");e.lineCap&&Je(t,"stroke-linecap",e.lineCap),e.lineJoin&&Je(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&Je(t,"stroke-miterlimit",e.miterLimit+"")}else Je(t,"stroke","none")}}var $e=function(){function t(){}return t.prototype.reset=function(){this._d=[],this._str=""},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,i,n,o,r){this._add("C",t,e,i,n,o,r)},t.prototype.quadraticCurveTo=function(t,e,i,n){this._add("Q",t,e,i,n)},t.prototype.arc=function(t,e,i,n,o,r){this.ellipse(t,e,i,i,0,n,o,r)},t.prototype.ellipse=function(t,e,i,n,o,r,a,s){var l=0===this._d.length,d=a-r,u=!s,h=Math.abs(d),p=Ke(h-Ye)||(u?d>=Ye:-d>=Ye),c=d>0?d%Ye:d%Ye+Ye,g=!1;g=!!p||!Ke(h)&&c>=Fe==!!u;var f=je(t+i*We(r)),y=je(e+n*Ue(r));p&&(d=u?Ye-1e-4:1e-4-Ye,g=!0,l&&this._d.push("M",f,y));var m=je(t+i*We(r+d)),v=je(e+n*Ue(r+d));if(isNaN(f)||isNaN(y)||isNaN(i)||isNaN(n)||isNaN(o)||isNaN(Xe)||isNaN(m)||isNaN(v))return"";this._d.push("A",je(i),je(n),He(o*Xe),+g,+u,m,v)},t.prototype.rect=function(t,e,i,n){this._add("M",t,e),this._add("L",t+i,e),this._add("L",t+i,e+n),this._add("L",t,e+n),this._add("L",t,e),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,i,n,o,r,a,s,l){this._d.push(t);for(var d=1;d<arguments.length;d++){var u=arguments[d];if(isNaN(u))return void(this._invalid=!0);this._d.push(je(u))}},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(" "),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),ti={brush:function(t){var e=t.style,i=t.__svgEl;i||(i=Re("path"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;t.shapeChanged()&&(n.beginPath(),t.buildPath(n,t.shape),t.pathUpdated());var o=n.getVersion(),r=t,a=r.__svgPathBuilder;(r.__svgPathVersion!==o||!a||t.style.strokePercent<1)&&(a||(a=r.__svgPathBuilder=new $e),a.reset(),n.rebuildPath(a,t.style.strokePercent),a.generateStr(),r.__svgPathVersion=o),Je(i,"d",a.getStr()),Qe(i,e,t),qe(i,t.transform)}},ei={brush:function(t){var e=t.style,i=e.image;if(i instanceof HTMLImageElement?i=i.src:i instanceof HTMLCanvasElement&&(i=i.toDataURL()),i){var n=e.x||0,o=e.y||0,r=e.width,a=e.height,s=t.__svgEl;s||(s=Re("image"),t.__svgEl=s),i!==t.__imageSrc&&(!function(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}(s,"href",i),t.__imageSrc=i),Je(s,"width",r+""),Je(s,"height",a+""),Je(s,"x",n+""),Je(s,"y",o+""),Qe(s,e,t),qe(s,t.transform)}}},ii={left:"start",right:"end",center:"middle",middle:"middle"};var ni={brush:function(t){var n=t.style,o=n.text;if(null!=o&&(o+=""),o&&!isNaN(n.x)&&!isNaN(n.y)){var r=t.__svgEl;r||(function(t,e,i){t.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,i)}(r=Re("text"),"xml:space","preserve"),t.__svgEl=r);var a=n.font||e;r.style.font=a,r.textContent=o,Qe(r,n,t),qe(r,t.transform);var s=n.x||0,l=function(t,e,i){return"top"===i?t+=e/2:"bottom"===i&&(t-=e/2),t}(n.y||0,i(a),n.textBaseline),d=ii[n.textAlign]||n.textAlign;Je(r,"dominant-baseline","central"),Je(r,"text-anchor",d),Je(r,"x",s+""),Je(r,"y",l+"")}}},oi=function(){function t(t,e,i,n,o){this.nextId=0,this._domName="_dom",this.createElement=Re,this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=n,o&&(this._domName=o)}return t.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");if(0===i.length){if(t){var n=e.insertBefore(this.createElement("defs"),e.firstChild);return n.contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;i>=0;--i)if(e[i]===t)return!0;return!1}),n}return null}return i[0]},t.prototype.doUpdate=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},t.prototype.add=function(t){return null},t.prototype.addDom=function(t){var e=this.getDefs(!0);t.parentNode!==e&&e.appendChild(t)},t.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},t.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return a(this._tagNames,(function(i){for(var n=t.getElementsByTagName(i),o=0;o<n.length;o++)e.push(n[o])})),e},t.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;a(t,(function(t){t[e._markLabel]="0"}))},t.prototype.markDomUsed=function(t){t&&(t[this._markLabel]="1")},t.prototype.markDomUnused=function(t){t&&(t[this._markLabel]="0")},t.prototype.isDomUnused=function(t){return t&&"1"!==t[this._markLabel]},t.prototype.removeUnused=function(){var t=this,e=this.getDefs(!1);if(e){var i=this.getDoms();a(i,(function(i){t.isDomUnused(i)&&e.removeChild(i)}))}},t.prototype.getSvgProxy=function(t){return t instanceof s?ti:t instanceof n?ei:t instanceof l?ni:ti},t.prototype.getSvgElement=function(t){return t.__svgEl},t}();function ri(t){return"linear"===t.type}function ai(t){return"radial"===t.type}function si(t){return t&&("linear"===t.type||"radial"===t.type)}var li=function(e){function i(t,i){return e.call(this,t,i,["linearGradient","radialGradient"],"__gradient_in_use__")||this}return d(i,e),i.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;a(["fill","stroke"],(function(n){var o=e.style[n];if(si(o)){var r=o,a=i.getDefs(!0),s=void 0;r.__dom?(s=r.__dom,a.contains(r.__dom)||i.addDom(s)):s=i.add(r),i.markUsed(e);var l=s.getAttribute("id");t.setAttribute(n,"url(#"+l+")")}}))}},i.prototype.add=function(t){var e;if(ri(t))e=this.createElement("linearGradient");else{if(!ai(t))return u("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},i.prototype.update=function(t){if(si(t)){var e=this;this.doUpdate(t,(function(){var i=t.__dom;if(i){var n=i.tagName,o=t.type;"linear"===o&&"linearGradient"===n||"radial"===o&&"radialGradient"===n?e.updateDom(t,t.__dom):(e.removeDom(t),e.add(t))}}))}},i.prototype.updateDom=function(e,i){if(ri(e))i.setAttribute("x1",e.x+""),i.setAttribute("y1",e.y+""),i.setAttribute("x2",e.x2+""),i.setAttribute("y2",e.y2+"");else{if(!ai(e))return void u("Illegal gradient type.");i.setAttribute("cx",e.x+""),i.setAttribute("cy",e.y+""),i.setAttribute("r",e.r+"")}e.global?i.setAttribute("gradientUnits","userSpaceOnUse"):i.setAttribute("gradientUnits","objectBoundingBox"),i.innerHTML="";for(var n=e.colorStops,o=0,r=n.length;o<r;++o){var a=this.createElement("stop");a.setAttribute("offset",100*n[o].offset+"%");var s=n[o].color;if(s.indexOf("rgba")>-1){var l=t(s)[3],d=h(s);a.setAttribute("stop-color","#"+d),a.setAttribute("stop-opacity",l+"")}else a.setAttribute("stop-color",n[o].color);i.appendChild(a)}e.__dom=i},i.prototype.markUsed=function(t){if(t.style){var i=t.style.fill;i&&i.__dom&&e.prototype.markDomUsed.call(this,i.__dom),(i=t.style.stroke)&&i.__dom&&e.prototype.markDomUsed.call(this,i.__dom)}},i}(oi);function di(t){return t&&(!!t.image||!!t.svgElement)}var ui=new p,hi=function(t){function e(e,i){return t.call(this,e,i,["pattern"],"__pattern_in_use__")||this}return d(e,t),e.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;a(["fill","stroke"],(function(n){var o=e.style[n];if(di(o)){var r=i.getDefs(!0),a=ui.get(o);a?r.contains(a)||i.addDom(a):a=i.add(o),i.markUsed(e);var s=a.getAttribute("id");t.setAttribute(n,"url(#"+s+")")}}))}},e.prototype.add=function(t){if(di(t)){var e=this.createElement("pattern");return t.id=null==t.id?this.nextId++:t.id,e.setAttribute("id","zr"+this._zrId+"-pattern-"+t.id),e.setAttribute("x","0"),e.setAttribute("y","0"),e.setAttribute("patternUnits","userSpaceOnUse"),this.updateDom(t,e),this.addDom(e),e}},e.prototype.update=function(t){if(di(t)){var e=this;this.doUpdate(t,(function(){var i=ui.get(t);e.updateDom(t,i)}))}},e.prototype.updateDom=function(t,e){var i=t.svgElement;if(i instanceof SVGElement)i.parentNode!==e&&(e.innerHTML="",e.appendChild(i),e.setAttribute("width",t.svgWidth+""),e.setAttribute("height",t.svgHeight+""));else{var n=void 0,o=e.getElementsByTagName("image");if(o.length){if(!t.image)return void e.removeChild(o[0]);n=o[0]}else t.image&&(n=this.createElement("image"));if(n){var r=void 0,a=t.image;if("string"==typeof a?r=a:a instanceof HTMLImageElement?r=a.src:a instanceof HTMLCanvasElement&&(r=a.toDataURL()),r){n.setAttribute("href",r),n.setAttribute("x","0"),n.setAttribute("y","0");var s=c(r,n,{dirty:function(){}},(function(t){e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")}));s&&s.width&&s.height&&(e.setAttribute("width",s.width+""),e.setAttribute("height",s.height+"")),e.appendChild(n)}}}var l="translate("+(t.x||0)+", "+(t.y||0)+") rotate("+(t.rotation||0)/Math.PI*180+") scale("+(t.scaleX||1)+", "+(t.scaleY||1)+")";e.setAttribute("patternTransform",l),ui.set(t,e)},e.prototype.markUsed=function(e){e.style&&(di(e.style.fill)&&t.prototype.markDomUsed.call(this,ui.get(e.style.fill)),di(e.style.stroke)&&t.prototype.markDomUsed.call(this,ui.get(e.style.stroke)))},e}(oi);function pi(t){var e=t.__clipPaths;return e&&e.length>0}var ci=function(t){function e(e,i){var n=t.call(this,e,i,"clipPath","__clippath_in_use__")||this;return n._refGroups={},n._keyDuplicateCount={},n}return d(e,t),e.prototype.markAllUnused=function(){t.prototype.markAllUnused.call(this);var e=this._refGroups;for(var i in e)e.hasOwnProperty(i)&&this.markDomUnused(e[i]);this._keyDuplicateCount={}},e.prototype._getClipPathGroup=function(t,e){if(pi(t)){var i=t.__clipPaths,n=this._keyDuplicateCount,o=function(t){var e=[];if(t)for(var i=0;i<t.length;i++){var n=t[i];e.push(n.id)}return e.join(",")}(i);return g(i,e&&e.__clipPaths)&&(n[o]=n[o]||0,n[o]&&(o+="-"+n[o]),n[o]++),this._refGroups[o]||(this._refGroups[o]=this.createElement("g"))}},e.prototype.update=function(t,e){var i=this._getClipPathGroup(t,e);return i&&(this.markDomUsed(i),this.updateDom(i,t.__clipPaths)),i},e.prototype.updateDom=function(t,e){if(e&&e.length>0){var i=this.getDefs(!0),n=e[0],o=void 0,r=void 0;n._dom?(r=n._dom.getAttribute("id"),o=n._dom,i.contains(o)||i.appendChild(o)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(o=this.createElement("clipPath")).setAttribute("id",r),i.appendChild(o),n._dom=o),this.getSvgProxy(n).brush(n);var a=this.getSvgElement(n);o.innerHTML="",o.appendChild(a),t.setAttribute("clip-path","url(#"+r+")"),e.length>1&&this.updateDom(o,e.slice(1))}else t&&t.setAttribute("clip-path","none")},e.prototype.markUsed=function(e){var i=this;e.__clipPaths&&a(e.__clipPaths,(function(e){e._dom&&t.prototype.markDomUsed.call(i,e._dom)}))},e.prototype.removeUnused=function(){t.prototype.removeUnused.call(this);var e={},i=this._refGroups;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];this.isDomUnused(o)?o.parentNode&&o.parentNode.removeChild(o):e[n]=o}this._refGroups=e},e}(oi),gi=function(t){function e(e,i){var n=t.call(this,e,i,["filter"],"__filter_in_use__","_shadowDom")||this;return n._shadowDomMap={},n._shadowDomPool=[],n}return d(e,t),e.prototype._getFromPool=function(){var t=this._shadowDomPool.pop();if(!t){(t=this.createElement("filter")).setAttribute("id","zr"+this._zrId+"-shadow-"+this.nextId++);var e=this.createElement("feDropShadow");t.appendChild(e),this.addDom(t)}return t},e.prototype.update=function(t,e){if(function(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}(e.style)){var i=function(t){var e=t.style,i=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),i[0],i[1]].join(",")}(e),n=e._shadowDom=this._shadowDomMap[i];n||(n=this._getFromPool(),this._shadowDomMap[i]=n),this.updateDom(t,e,n)}else this.remove(t,e)},e.prototype.remove=function(t,e){null!=e._shadowDom&&(e._shadowDom=null,t.removeAttribute("filter"))},e.prototype.updateDom=function(t,e,i){var n=i.children[0],o=e.style,r=e.getGlobalScale(),a=r[0],s=r[1];if(a&&s){var l=o.shadowOffsetX||0,d=o.shadowOffsetY||0,u=o.shadowBlur,h=Be(o.shadowColor);n.setAttribute("dx",l/a+""),n.setAttribute("dy",d/s+""),n.setAttribute("flood-color",h.color),n.setAttribute("flood-opacity",h.opacity+"");var p=u/2/a+" "+u/2/s;n.setAttribute("stdDeviation",p),i.setAttribute("x","-100%"),i.setAttribute("y","-100%"),i.setAttribute("width","300%"),i.setAttribute("height","300%"),e._shadowDom=i;var c=i.getAttribute("id");t.setAttribute("filter","url(#"+c+")")}},e.prototype.removeUnused=function(){if(this.getDefs(!1)){var t=this._shadowDomPool,e=this._shadowDomMap;for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);this._shadowDomMap={}}},e}(oi);function fi(t){return parseInt(t,10)}function yi(t){return t instanceof s?ti:t instanceof n?ei:t instanceof l?ni:ti}function mi(t,e){return e&&t&&e.parentNode!==t}function vi(t,e,i){if(mi(t,e)&&i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function xi(t,e){if(mi(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function _i(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function bi(t){return t.__svgEl}function wi(t){return function(){u('In SVG mode painter not support method "'+t+'"')}}var Ai=function(){function t(t,e,i,n){this.type="svg",this.refreshHover=wi("refreshHover"),this.pathToImage=wi("pathToImage"),this.configLayer=wi("configLayer"),this.root=t,this.storage=e,this._opts=i=f({},i||{});var o=Re("svg");o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;";var r=Re("g");o.appendChild(r);var a=Re("g");o.appendChild(a),this._gradientManager=new li(n,a),this._patternManager=new hi(n,a),this._clipPathManager=new ci(n,a),this._shadowManager=new gi(n,a);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgDom=o,this._svgRoot=a,this._backgroundRoot=r,this._viewport=s,t.appendChild(s),s.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]}return t.prototype.getType=function(){return"svg"},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.getSvgRoot=function(){return this._svgRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},t.prototype.setBackgroundColor=function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=Re("rect");e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("id",0);var i=Be(t),n=i.color,o=i.opacity;e.setAttribute("fill",n),e.setAttribute("fill-opacity",o),this._backgroundRoot.appendChild(e),this._backgroundNode=e},t.prototype.createSVGElement=function(t){return Re(t)},t.prototype.paintOne=function(t){var e=yi(t);return e&&e.brush(t),bi(t)},t.prototype._paintList=function(t){var e=this._gradientManager,i=this._patternManager,n=this._clipPathManager,o=this._shadowManager;e.markAllUnused(),i.markAllUnused(),n.markAllUnused(),o.markAllUnused();for(var r=this._svgRoot,a=this._visibleList,s=t.length,l=[],d=0;d<s;d++){var u=yi(_=t[d]),h=bi(_);_.invisible||(!_.__dirty&&h||(u&&u.brush(_),(h=bi(_))&&_.style&&(e.update(_.style.fill),e.update(_.style.stroke),i.update(_.style.fill),i.update(_.style.stroke),o.update(h,_)),_.__dirty=0),h&&l.push(_))}var p,c,g,f,y,m=Ve(a,l);for(d=0;d<m.length;d++){if((x=m[d]).removed)for(var v=0;v<x.count;v++){h=bi(_=a[x.indices[v]]);pi(_)?(g=h)&&g.parentNode&&g.parentNode.removeChild(g):_i(r,h)}}for(d=0;d<m.length;d++){var x;if(!(x=m[d]).removed)for(v=0;v<x.count;v++){var _=l[x.indices[v]],b=n.update(_,f);b!==y&&(p=c,b&&(p?vi(r,b,p):xi(r,b),c=b,p=null),y=b);h=bi(_);p?vi(y||r,h,p):xi(y||r,h),p=h||p,y||(c=p),e.markUsed(_),e.addWithoutUpdate(h,_),i.markUsed(_),i.addWithoutUpdate(h,_),n.markUsed(_),f=_}}e.removeUnused(),i.removeUnused(),n.removeUnused(),o.removeUnused(),this._visibleList=l},t.prototype.resize=function(t,e){var i=this._viewport;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=i.style;o.width=t+"px",o.height=e+"px";var r=this._svgDom;r.setAttribute("width",t+""),r.setAttribute("height",e+"")}this._backgroundNode&&(this._backgroundNode.setAttribute("width",t),this._backgroundNode.setAttribute("height",e))},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||fi(s[i])||fi(a.style[i]))-(fi(s[o])||0)-(fi(s[r])||0)|0},t.prototype.dispose=function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},t.prototype.clear=function(){var t=this._viewport;t&&t.parentNode&&t.parentNode.removeChild(t)},t.prototype.toDataURL=function(){this.refresh();var t=this._svgDom,e=t.outerHTML||(t.parentNode&&t.parentNode).innerHTML;return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e.replace(/></g,">\n\r<"))},t}();function Si(t){t.registerPainter("svg",Ai)}function Ii(t,e){var i=t.mapDimensionsAll("defaultedLabel"),n=i.length;if(1===n){var o=y(t,e,i[0]);return null!=o?o+"":null}if(n){for(var r=[],a=0;a<i.length;a++)r.push(y(t,e,i[a]));return r.join(" ")}}function Mi(t,e){var i=t.mapDimensionsAll("defaultedLabel");if(!m(e))return e+"";for(var n=[],o=0;o<i.length;o++){var r=t.getDimensionIndex(i[o]);r>=0&&n.push(e[r])}return n.join(" ")}function Ci(t,e,i,n,o){var r=t.getArea(),a=r.x,s=r.y,l=r.width,d=r.height,u=i.get(["lineStyle","width"])||2;a-=u/2,s-=u/2,l+=u,d+=u,a=Math.floor(a),l=Math.round(l);var h=new v({shape:{x:a,y:s,width:l,height:d}});if(e){var p=t.getBaseAxis(),c=p.isHorizontal(),g=p.inverse;c?(g&&(h.shape.x+=l),h.shape.width=0):(g||(h.shape.y+=d),h.shape.height=0),x(h,{shape:{width:l,height:d,x:a,y:s}},i,null,n,"function"==typeof o?function(t){o(t,h)}:null)}return h}function Ti(t,e,i){var n=t.getArea(),o=_(n.r0,1),r=_(n.r,1),a=new b({shape:{cx:_(t.cx,1),cy:_(t.cy,1),r0:o,r:r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});e&&("angle"===t.getBaseAxis().dim?a.shape.endAngle=n.startAngle:a.shape.r=o,x(a,{shape:{endAngle:n.endAngle,r:r}},i));return a}function Di(t,e,i,n,o){return t?"polar"===t.type?Ti(t,e,i):"cartesian2d"===t.type?Ci(t,e,i,n,o):null:null}function Li(t,e){return t.type===e}var ki={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Pi=function(t){return Math.round(t.length/2)};function Oi(t){return{seriesType:t,reset:function(t,e,i){var n=t.getData(),o=t.get("sampling"),r=t.coordinateSystem,a=n.count();if(a>10&&"cartesian2d"===r.type&&o){var s=r.getBaseAxis(),l=r.getOtherAxis(s),d=s.getExtent(),u=i.getDevicePixelRatio(),h=Math.abs(d[1]-d[0])*(u||1),p=Math.round(a/h);if(p>1){"lttb"===o&&t.setData(n.lttbDownSample(n.mapDimension(l.dim),1/p));var c=void 0;"string"==typeof o?c=ki[o]:"function"==typeof o&&(c=o),c&&t.setData(n.downSample(n.mapDimension(l.dim),1/p,c,Pi))}}}}}var Ni=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.prototype.getInitialData=function(t,e){return w(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e&&e.clampData){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),o=n.getLayout("offset"),r=n.getLayout("size");return i[e.getBaseAxis().isHorizontal()?0:1]+=o+r/2,i}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(A);A.registerClass(Ni);var Ri=Ni,Bi=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.prototype.getInitialData=function(){return w(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,i){return i.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=S(Ri.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Ri),Ei=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},zi=function(t){function e(e){var i=t.call(this,e)||this;return i.type="sausage",i}return d(e,t),e.prototype.getDefaultShape=function(){return new Ei},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),r=Math.max(e.r,0),a=.5*(r-o),s=o+a,l=e.startAngle,d=e.endAngle,u=e.clockwise,h=Math.cos(l),p=Math.sin(l),c=Math.cos(d),g=Math.sin(d);(u?d-l<2*Math.PI:l-d<2*Math.PI)&&(t.moveTo(h*o+i,p*o+n),t.arc(h*s+i,p*s+n,a,-Math.PI+l,l,!u)),t.arc(i,n,r,l,d,!u),t.moveTo(c*r+i,g*r+n),t.arc(c*s+i,g*s+n,a,d-2*Math.PI,d-Math.PI,!u),0!==o&&(t.arc(i,n,o,d,l,u),t.moveTo(h*o+i,g*o+n)),t.closePath()},e}(s);function Gi(t,e,i){return e*Math.sin(t)*(i?-1:1)}function Vi(t,e,i){return e*Math.cos(t)*(i?1:-1)}var Hi=[0,0],Ui=Math.max,Wi=Math.min;var Fi=function(t){function e(){var i=t.call(this)||this;return i.type=e.type,i._isFirstFrame=!0,i}return d(e,t),e.prototype.render=function(t,e,i,n){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var o=t.get("coordinateSystem");"cartesian2d"!==o&&"polar"!==o||(this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i,n))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._incrementalRenderLarge(t,e)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,i,n){var o,r=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,d=l.getBaseAxis();"cartesian2d"===l.type?o=d.isHorizontal():"polar"===l.type&&(o="angle"===d.dim);var u=t.isAnimationEnabled()?t:null,h=function(t,e){var i=t.get("realtimeSort",!0),n=e.getBaseAxis();if(i&&"category"===n.type&&"cartesian2d"===e.type)return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}(t,l);h&&this._enableRealtimeSort(h,a,i);var p=t.get("clip",!0)||h,c=function(t,e){var i=t.getArea&&t.getArea();if(Li(t,"cartesian2d")){var n=t.getBaseAxis();if("category"!==n.type||!n.onBand){var o=e.getLayout("bandWidth");n.isHorizontal()?(i.x-=o,i.width+=2*o):(i.y-=o,i.height+=2*o)}}return i}(l,a);r.removeClipPath();var g=t.get("roundCap",!0),f=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),m=y.get("borderRadius")||0,_=[],w=this._backgroundEls,A=n&&n.isInitSort,S=n&&"changeAxisOrder"===n.type;function I(t){var e=Qi[l.type](a,t),i=function(t,e,i){return new("polar"===t.type?b:v)({shape:an(e,i,t),silent:!0,z2:0})}(l,o,e);return i.useStyle(y.getItemStyle()),"cartesian2d"===l.type&&i.setShape("r",m),_[t]=i,i}a.diff(s).add((function(e){var i=a.getItemModel(e),n=Qi[l.type](a,e,i);if(f&&I(e),a.hasValue(e)&&Ji[l.type](n)){var s=!1;p&&(s=Yi[l.type](c,n));var y=Xi[l.type](t,a,e,n,o,u,d.model,!1,g);tn(y,a,e,i,n,t,o,"polar"===l.type),A?y.attr({shape:n}):h?Zi(h,u,y,n,e,o,!1,!1):x(y,{shape:n},t,e),a.setItemGraphicEl(e,y),r.add(y),y.ignore=s}})).update((function(e,i){var n=a.getItemModel(e),v=Qi[l.type](a,e,n);if(f){var x=void 0;0===w.length?x=I(i):((x=w[i]).useStyle(y.getItemStyle()),"cartesian2d"===l.type&&x.setShape("r",m),_[e]=x);var b=Qi[l.type](a,e),T=an(o,b,l);M(x,{shape:T},u,e)}var D=s.getItemGraphicEl(i);if(a.hasValue(e)&&Ji[l.type](v)){var L=!1;p&&(L=Yi[l.type](c,v))&&r.remove(D),D?C(D):D=Xi[l.type](t,a,e,v,o,u,d.model,!!D,g),S||tn(D,a,e,n,v,t,o,"polar"===l.type),A?D.attr({shape:v}):h?Zi(h,u,D,v,e,o,!0,S):M(D,{shape:v},t,e,null),a.setItemGraphicEl(e,D),D.ignore=L,r.add(D)}else r.remove(D)})).remove((function(e){var i=s.getItemGraphicEl(e);i&&T(i,t,e)})).execute();var L=this._backgroundGroup||(this._backgroundGroup=new D);L.removeAll();for(var k=0;k<_.length;++k)L.add(_[k]);r.add(L),this._backgroundEls=_,this._data=a},e.prototype._renderLarge=function(t,e,i){this._clear(),on(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),on(e,this.group,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)?Di(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,i){var n=this;if(e.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,i),this._isFirstFrame=!1;else{var r=function(t){var i=e.getItemGraphicEl(t);if(i){var n=i.shape;return(o.isHorizontal()?Math.abs(n.height):Math.abs(n.width))||0}return 0};this._onRendered=function(){n._updateSortWithinSameData(e,r,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,i){var n=[];return t.each(t.mapDimension(e.dim),(function(t,e){var o=i(e);o=null==o?NaN:o,n.push({dataIndex:e,mappedValue:o,ordinalNumber:t})})),n.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:r(n,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,i){for(var n=i.scale,o=t.mapDimension(i.dim),r=Number.MAX_VALUE,a=0,s=n.getOrdinalMeta().categories.length;a<s;++a){var l=t.rawIndexOf(o,n.getRawOrdinalNumber(a)),d=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(d>r)return!0;r=d}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var i=e.scale,n=i.getExtent(),o=Math.max(0,n[0]),r=Math.min(n[1],i.getOrdinalMeta().categories.length-1);o<=r;++o)if(t.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,e,i,n){if(this._isOrderChangedWithinSameData(t,e,i)){var o=this._dataSort(t,i,e);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,e,i){var n=e.baseAxis,o=this._dataSort(t,n,(function(i){return t.get(t.mapDimension(e.otherAxis.dim),i)}));i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl((function(e){T(e,t,L(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(k),Yi={cartesian2d:function(t,e){var i=e.width<0?-1:1,n=e.height<0?-1:1;i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var o=t.x+t.width,r=t.y+t.height,a=Ui(e.x,t.x),s=Wi(e.x+e.width,o),l=Ui(e.y,t.y),d=Wi(e.y+e.height,r),u=s<a,h=d<l;return e.x=u&&a>o?s:a,e.y=h&&l>r?d:l,e.width=u?0:s-a,e.height=h?0:d-l,i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),u||h},polar:function(t,e){var i=e.r0<=e.r?1:-1;if(i<0){var n=e.r;e.r=e.r0,e.r0=n}var o=Wi(e.r,t.r),r=Ui(e.r0,t.r0);e.r=o,e.r0=r;var a=o-r<0;if(i<0){n=e.r;e.r=e.r0,e.r0=n}return a}},Xi={cartesian2d:function(t,e,i,n,o,r,a,s,l){var d=new v({shape:f({},n),z2:1});(d.__dataIndex=i,d.name="item",r)&&(d.shape[o?"height":"width"]=0);return d},polar:function(t,e,i,n,o,r,a,s,l){var d=!o&&l?zi:b,u=new d({shape:n,z2:1});u.name="item";var h,p,c=$i(o);if(u.calculateTextPosition=(h=c,p=({isRoundCap:d===zi}||{}).isRoundCap,function(t,e,i){var n=e.position;if(!n||n instanceof Array)return I(t,e,i);var o=h(n),r=null!=e.distance?e.distance:5,a=this.shape,s=a.cx,l=a.cy,d=a.r,u=a.r0,c=(d+u)/2,g=a.startAngle,f=a.endAngle,y=(g+f)/2,m=p?Math.abs(d-u)/2:0,v=Math.cos,x=Math.sin,_=s+d*v(g),b=l+d*x(g),w="left",A="top";switch(o){case"startArc":_=s+(u-r)*v(y),b=l+(u-r)*x(y),w="center",A="top";break;case"insideStartArc":_=s+(u+r)*v(y),b=l+(u+r)*x(y),w="center",A="bottom";break;case"startAngle":_=s+c*v(g)+Gi(g,r+m,!1),b=l+c*x(g)+Vi(g,r+m,!1),w="right",A="middle";break;case"insideStartAngle":_=s+c*v(g)+Gi(g,-r+m,!1),b=l+c*x(g)+Vi(g,-r+m,!1),w="left",A="middle";break;case"middle":_=s+c*v(y),b=l+c*x(y),w="center",A="middle";break;case"endArc":_=s+(d+r)*v(y),b=l+(d+r)*x(y),w="center",A="bottom";break;case"insideEndArc":_=s+(d-r)*v(y),b=l+(d-r)*x(y),w="center",A="top";break;case"endAngle":_=s+c*v(f)+Gi(f,r+m,!0),b=l+c*x(f)+Vi(f,r+m,!0),w="left",A="middle";break;case"insideEndAngle":_=s+c*v(f)+Gi(f,-r+m,!0),b=l+c*x(f)+Vi(f,-r+m,!0),w="right",A="middle";break;default:return I(t,e,i)}return(t=t||{}).x=_,t.y=b,t.align=w,t.verticalAlign=A,t}),r){var g=o?"r":"endAngle",f={};u.shape[g]=o?0:n.startAngle,f[g]=n[g],(s?M:x)(u,{shape:f},r)}return u}};function Zi(t,e,i,n,o,r,a,s){var l,d;r?(d={x:n.x,width:n.width},l={y:n.y,height:n.height}):(d={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(a?M:x)(i,{shape:l},e,o,null);var u=e?t.baseAxis.model:null;(a?M:x)(i,{shape:d},u,o)}function ji(t,e){for(var i=0;i<e.length;i++)if(!isFinite(t[e[i]]))return!0;return!1}var Ki=["x","y","width","height"],qi=["cx","cy","r","startAngle","endAngle"],Ji={cartesian2d:function(t){return!ji(t,Ki)},polar:function(t){return!ji(t,qi)}},Qi={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),o=i?function(t,e){var i=t.get(["itemStyle","borderColor"]);if(!i||"none"===i)return 0;var n=t.get(["itemStyle","borderWidth"])||0,o=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),r=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,o,r)}(i,n):0,r=n.width>0?1:-1,a=n.height>0?1:-1;return{x:n.x+r*o/2,y:n.y+a*o/2,width:n.width-r*o,height:n.height-a*o}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function $i(t){return e=t?"Arc":"Angle",function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}};var e}function tn(t,e,i,n,o,r,s,l){var d=e.getItemVisual(i,"style");l||t.setShape("r",n.get(["itemStyle","borderRadius"])||0),t.useStyle(d);var u=n.getShallow("cursor");u&&t.attr("cursor",u);var h=l?s?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":s?o.height>=0?"bottom":"top":o.width>=0?"right":"left",p=P(n);O(t,p,{labelFetcher:r,labelDataIndex:i,defaultText:Ii(r.getData(),i),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:h});var c=t.getTextContent();if(l&&c){var g=n.get(["label","position"]);t.textConfig.inside="middle"===g||null,function(t,e,i,n){if("number"!=typeof n)if(m(e))t.setTextConfig({rotation:0});else{var o,r=t.shape,a=r.clockwise?r.startAngle:r.endAngle,s=r.clockwise?r.endAngle:r.startAngle,l=(a+s)/2,d=i(e);switch(d){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=l;break;case"startAngle":case"insideStartAngle":o=a;break;case"endAngle":case"insideEndAngle":o=s;break;default:return void t.setTextConfig({rotation:0})}var u=1.5*Math.PI-o;"middle"===d&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),t.setTextConfig({rotation:u})}else t.setTextConfig({rotation:n})}(t,"outside"===g?h:g,$i(s),n.get(["label","rotate"]))}N(c,p,r.getRawValue(i),(function(t){return Mi(e,t)}));var f=n.getModel(["emphasis"]);R(t,f.get("focus"),f.get("blurScope")),B(t,n),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(o)&&(t.style.fill="none",t.style.stroke="none",a(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}var en=function(){},nn=function(t){function e(e){var i=t.call(this,e)||this;return i.type="largeBar",i}return d(e,t),e.prototype.getDefaultShape=function(){return new en},e.prototype.buildPath=function(t,e){for(var i=e.points,n=this.__startPoint,o=this.__baseDimIdx,r=0;r<i.length;r+=2)n[o]=i[r+o],t.moveTo(n[0],n[1]),t.lineTo(i[r],i[r+1])},e}(s);function on(t,e,i){var n=t.getData(),o=[],r=n.getLayout("valueAxisHorizontal")?1:0;o[1-r]=n.getLayout("valueAxisStart");var a=n.getLayout("largeDataIndices"),s=n.getLayout("barWidth"),l=t.getModel("backgroundStyle");if(t.get("showBackground",!0)){var d=n.getLayout("largeBackgroundPoints"),u=[];u[1-r]=n.getLayout("backgroundStart");var h=new nn({shape:{points:d},incremental:!!i,silent:!0,z2:0});h.__startPoint=u,h.__baseDimIdx=r,h.__largeDataIndices=a,h.__barWidth=s,function(t,e,i){var n=e.get("borderColor")||e.get("color"),o=e.getItemStyle();t.useStyle(o),t.style.fill=null,t.style.stroke=n,t.style.lineWidth=i.getLayout("barWidth")}(h,l,n),e.add(h)}var p=new nn({shape:{points:n.getLayout("largePoints")},incremental:!!i});p.__startPoint=o,p.__baseDimIdx=r,p.__largeDataIndices=a,p.__barWidth=s,e.add(p),function(t,e,i){var n=i.getVisual("style");t.useStyle(f({},n)),t.style.fill=null,t.style.stroke=n.fill,t.style.lineWidth=i.getLayout("barWidth")}(p,0,n),L(p).seriesIndex=t.seriesIndex,t.get("silent")||(p.on("mousedown",rn),p.on("mousemove",rn))}var rn=E((function(t){var e=function(t,e,i){var n=t.__baseDimIdx,o=1-n,r=t.shape.points,a=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[o];Hi[0]=e,Hi[1]=i;for(var d=Hi[n],u=Hi[1-n],h=d-s,p=d+s,c=0,g=r.length/2;c<g;c++){var f=2*c,y=r[f+n],m=r[f+o];if(y>=h&&y<=p&&(l<=m?u>=l&&u<=m:u>=m&&u<=l))return a[c]}return-1}(this,t.offsetX,t.offsetY);L(this).dataIndex=e>=0?e:null}),30,!1);function an(t,e,i){if(Li(i,"cartesian2d")){var n=e,o=i.getArea();return{x:t?n.x:o.x,y:t?o.y:n.y,width:t?n.width:o.width,height:t?o.height:n.height}}var r=e;return{cx:(o=i.getArea()).cx,cy:o.cy,r0:t?o.r0:r.r0,r:t?o.r:r.r,startAngle:t?r.startAngle:0,endAngle:t?r.endAngle:2*Math.PI}}var sn=Fi;function ln(t){t.registerChartView(sn),t.registerSeriesModel(Bi),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,z(V,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,G),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Oi("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))}var dn=2*Math.PI,un=Math.PI/180;function hn(t,e){return H(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function pn(t,e){var i=hn(t,e),n=t.get("center"),o=t.get("radius");m(o)||(o=[0,o]),m(n)||(n=[n,n]);var r=W(i.width,e.getWidth()),a=W(i.height,e.getHeight()),s=Math.min(r,a);return{cx:W(n[0],r)+i.x,cy:W(n[1],a)+i.y,r0:W(o[0],s/2),r:W(o[1],s/2)}}function cn(t,e,i){e.eachSeriesByType(t,(function(t){var e=t.getData(),n=e.mapDimension("value"),o=hn(t,i),r=pn(t,i),a=r.cx,s=r.cy,l=r.r,d=r.r0,u=-t.get("startAngle")*un,h=t.get("minAngle")*un,p=0;e.each(n,(function(t){!isNaN(t)&&p++}));var c=e.getSum(n),g=Math.PI/(c||p)*2,f=t.get("clockwise"),y=t.get("roseType"),m=t.get("stillShowZeroSum"),v=e.getDataExtent(n);v[0]=0;var x=dn,_=0,b=u,w=f?1:-1;if(e.setLayout({viewRect:o,r:l}),e.each(n,(function(t,i){var n;if(isNaN(t))e.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:f,cx:a,cy:s,r0:d,r:y?NaN:l});else{(n="area"!==y?0===c&&m?g:t*g:dn/p)<h?(n=h,x-=h):_+=t;var o=b+w*n;e.setItemLayout(i,{angle:n,startAngle:b,endAngle:o,clockwise:f,cx:a,cy:s,r0:d,r:y?U(t,v,[d,l]):l}),b=o}})),x<dn&&p)if(x<=.001){var A=dn/p;e.each(n,(function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i);n.angle=A,n.startAngle=u+w*i*A,n.endAngle=u+w*(i+1)*A}}))}else g=x/_,b=u,e.each(n,(function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i),o=n.angle===h?h:t*g;n.startAngle=b,n.endAngle=b+w*o,b+=w*o}}))}))}function gn(t){return{seriesType:t,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var n=t.getData();n.filterSelf((function(t){for(var e=n.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(e))return!1;return!0}))}}}}var fn=Math.PI/180;function yn(t,e,i,n,o,r,a,s,l,d){if(!(t.length<2)){for(var u=t.length,h=0;h<u;h++)if("outer"===t[h].position&&"labelLine"===t[h].labelAlignTo){var p=t[h].label.x-d;t[h].linePoints[1][0]+=p,t[h].label.x=d}Z(t,l,l+a)&&function(t){for(var r={list:[],maxY:0},a={list:[],maxY:0},s=0;s<t.length;s++)if("none"===t[s].labelAlignTo){var l=t[s],d=l.label.y>i?a:r,u=Math.abs(l.label.y-i);if(u>d.maxY){var h=l.label.x-e-l.len2*o,p=n+l.len,g=Math.abs(h)<p?Math.sqrt(u*u/(1-h*h/p/p)):p;d.rB=g,d.maxY=u}d.list.push(l)}c(r),c(a)}(t)}function c(t){for(var r=t.rB,a=r*r,s=0;s<t.list.length;s++){var l=t.list[s],d=Math.abs(l.label.y-i),u=n+l.len,h=u*u,p=Math.sqrt((1-Math.abs(d*d/a))*h);l.label.x=e+(p+l.len2)*o}}}function mn(t){return"center"===t.position}function vn(t){var e,i,n=t.getData(),o=[],r=!1,s=(t.get("minShowLabelAngle")||0)*fn,l=n.getLayout("viewRect"),d=n.getLayout("r"),u=l.width,h=l.x,p=l.y,c=l.height;function g(t){t.ignore=!0}n.each((function(t){var l=n.getItemGraphicEl(t),p=l.shape,c=l.getTextContent(),f=l.getTextGuideLine(),y=n.getItemModel(t),m=y.getModel("label"),v=m.get("position")||y.get(["emphasis","label","position"]),x=m.get("distanceToLabelLine"),_=m.get("alignTo"),b=W(m.get("edgeDistance"),u),w=m.get("bleedMargin"),A=y.getModel("labelLine"),S=A.get("length");S=W(S,u);var I=A.get("length2");if(I=W(I,u),Math.abs(p.endAngle-p.startAngle)<s)return a(c.states,g),void(c.ignore=!0);if(function(t){if(!t.ignore)return!0;for(var e in t.states)if(!1===t.states[e].ignore)return!0;return!1}(c)){var M,C,T,D,L=(p.startAngle+p.endAngle)/2,k=Math.cos(L),P=Math.sin(L);e=p.cx,i=p.cy;var O,N="inside"===v||"inner"===v;if("center"===v)M=p.cx,C=p.cy,D="center";else{var R=(N?(p.r+p.r0)/2*k:p.r*k)+e,B=(N?(p.r+p.r0)/2*P:p.r*P)+i;if(M=R+3*k,C=B+3*P,!N){var E=R+k*(S+d-p.r),z=B+P*(S+d-p.r),G=E+(k<0?-1:1)*I;M="edge"===_?k<0?h+b:h+u-b:G+(k<0?-x:x),C=z,T=[[R,B],[E,z],[G,z]]}D=N?"center":"edge"===_?k>0?"right":"left":k>0?"left":"right"}var V=m.get("rotate");if("number"==typeof V)O=V*(Math.PI/180);else if("center"===v)O=0;else{var H=k<0?-L+Math.PI:-L;"radial"===V||!0===V?O=H:"tangential"===V&&"outside"!==v&&"outer"!==v?(O=H+Math.PI/2)>Math.PI/2&&(O-=Math.PI):O=0}if(r=!!O,c.x=M,c.y=C,c.rotation=O,c.setStyle({verticalAlign:"middle"}),N){c.setStyle({align:D});var U=c.states.select;U&&(U.x+=c.x,U.y+=c.y)}else{var Y=c.getBoundingRect().clone();Y.applyTransform(c.getComputedTransform());var X=(c.style.margin||0)+2.1;Y.y-=X/2,Y.height+=X,o.push({label:c,labelLine:f,position:v,len:S,len2:I,minTurnAngle:A.get("minTurnAngle"),maxSurfaceAngle:A.get("maxSurfaceAngle"),surfaceNormal:new F(k,P),linePoints:T,textAlign:D,labelDistance:x,labelAlignTo:_,edgeDistance:b,bleedMargin:w,rect:Y})}l.setTextConfig({inside:N})}})),!r&&t.get("avoidLabelOverlap")&&function(t,e,i,n,o,r,a,s){for(var l=[],d=[],u=Number.MAX_VALUE,h=-Number.MAX_VALUE,p=0;p<t.length;p++){var c=t[p].label;mn(t[p])||(c.x<e?(u=Math.min(u,c.x),l.push(t[p])):(h=Math.max(h,c.x),d.push(t[p])))}for(yn(d,e,i,n,1,0,r,0,s,h),yn(l,e,i,n,-1,0,r,0,s,u),p=0;p<t.length;p++){var g=t[p];if(c=g.label,!mn(g)){var f=g.linePoints;if(f){var y="edge"===g.labelAlignTo,m=g.rect.width,v=void 0;(v=y?c.x<e?f[2][0]-g.labelDistance-a-g.edgeDistance:a+o-g.edgeDistance-f[2][0]-g.labelDistance:c.x<e?c.x-a-g.bleedMargin:a+o-c.x-g.bleedMargin)<g.rect.width&&(g.label.style.width=v,"edge"===g.labelAlignTo&&(m=v));var x=f[1][0]-f[2][0];y?c.x<e?f[2][0]=a+g.edgeDistance+m+g.labelDistance:f[2][0]=a+o-g.edgeDistance-m-g.labelDistance:(c.x<e?f[2][0]=c.x+g.labelDistance:f[2][0]=c.x-g.labelDistance,f[1][0]=f[2][0]+x),f[1][1]=f[2][1]=c.y}}}}(o,e,i,d,u,c,h,p);for(var f=0;f<o.length;f++){var y=o[f],m=y.label,v=y.labelLine,x=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:y.textAlign}),x&&(a(m.states,g),m.ignore=!0);var _=m.states.select;_&&(_.x+=m.x,_.y+=m.y)}if(v){var b=y.linePoints;x||!b?(a(v.states,g),v.ignore=!0):(Y(b,y.minTurnAngle),X(b,y.surfaceNormal,y.maxSurfaceAngle),v.setShape({points:b}),m.__hostTarget.textGuideLineConfig={anchor:new F(b[0][0],b[0][1])})}}}function xn(t,e,i){var n=t.get("borderRadius");return null==n?i?{innerCornerRadius:0,cornerRadius:0}:null:(m(n)||(n=[n,n]),{innerCornerRadius:j(n[0],e.r0),cornerRadius:j(n[1],e.r)})}var _n=function(t){function e(e,i,n){var o=t.call(this)||this;o.z2=2;var r=new K;return o.setTextContent(r),o.updateData(e,i,n,!0),o}return d(e,t),e.prototype.updateData=function(t,e,i,n){var o=this,r=t.hostModel,a=t.getItemModel(e),s=a.getModel("emphasis"),l=t.getItemLayout(e),d=f(xn(a.getModel("itemStyle"),l,!0),l);if(isNaN(d.startAngle))o.setShape(d);else{if(n)o.setShape(d),"scale"===r.getShallow("animationType")?(o.shape.r=l.r0,x(o,{shape:{r:l.r}},r,e)):null!=i?(o.setShape({startAngle:i,endAngle:i}),x(o,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},r,e)):(o.shape.endAngle=l.startAngle,M(o,{shape:{endAngle:l.endAngle}},r,e));else C(o),M(o,{shape:d},r,e);o.useStyle(t.getItemVisual(e,"style")),B(o,a);var u=(l.startAngle+l.endAngle)/2,h=r.get("selectedOffset"),p=Math.cos(u)*h,c=Math.sin(u)*h,g=a.getShallow("cursor");g&&o.attr("cursor",g),this._updateLabel(r,t,e),o.ensureState("emphasis").shape=q({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},xn(s.getModel("itemStyle"),l)),f(o.ensureState("select"),{x:p,y:c,shape:xn(a.getModel(["select","itemStyle"]),l)}),f(o.ensureState("blur"),{shape:xn(a.getModel(["blur","itemStyle"]),l)});var y=o.getTextGuideLine(),m=o.getTextContent();y&&f(y.ensureState("select"),{x:p,y:c}),f(m.ensureState("select"),{x:p,y:c}),R(this,s.get("focus"),s.get("blurScope"))}},e.prototype._updateLabel=function(t,e,i){var n=this,o=e.getItemModel(i),r=o.getModel("labelLine"),a=e.getItemVisual(i,"style"),s=a&&a.fill,l=a&&a.opacity;O(n,P(o),{labelFetcher:e.hostModel,labelDataIndex:i,inheritColor:s,defaultOpacity:l,defaultText:t.getFormattedLabel(i,"normal")||e.getName(i)});var d=n.getTextContent();n.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var u=t.get(["label","position"]);if("outside"!==u&&"outer"!==u)n.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new J,this.setTextGuideLine(h)),Q(this,tt(o),{stroke:s,opacity:$(r.get(["lineStyle","opacity"]),l,1)})}},e}(b),bn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return d(e,t),e.prototype.init=function(){var t=new D;this._sectorGroup=t},e.prototype.render=function(t,e,i,n){var o,r=t.getData(),a=this._data,s=this.group;if(!a&&r.count()>0){for(var l=r.getItemLayout(0),d=1;isNaN(l&&l.startAngle)&&d<r.count();++d)l=r.getItemLayout(d);l&&(o=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===r.count()&&t.get("showEmptyCircle")){var u=new b({shape:pn(t,i)});u.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=u,s.add(u)}r.diff(a).add((function(t){var e=new _n(r,t,o);r.setItemGraphicEl(t,e),s.add(e)})).update((function(t,e){var i=a.getItemGraphicEl(e);i.updateData(r,t,o),i.off("click"),s.add(i),r.setItemGraphicEl(t,i)})).remove((function(e){var i=a.getItemGraphicEl(e);T(i,t,e)})).execute(),vn(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=r)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,o=t[1]-i.cy,r=Math.sqrt(n*n+o*o);return r<=i.r&&r>=i.r0}},e.type="pie",e}(k);function wn(t,e,i){e=m(e)&&{coordDimensions:e}||f({encodeDefine:t.getEncode()},e);var n=t.getSource(),o=et(n,e).dimensions,r=new it(o,t);return r.initData(n,i),r}var An=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}(),Sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new An(nt(this.getData,this),nt(this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return wn(this,{coordDimensions:["value"],encodeDefaulter:z(ot,this)})},e.prototype.getDataParams=function(e){var i=this.getData(),n=t.prototype.getDataParams.call(this,e),o=[];return i.each(i.mapDimension("value"),(function(t){o.push(t)})),n.percent=rt(o,e,i.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},e.prototype._defaultLabelLine=function(t){at(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={zlevel:0,z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(A);function In(t){t.registerChartView(bn),t.registerSeriesModel(Sn),st("pie",t.registerAction),t.registerLayout(z(cn,"pie")),t.registerProcessor(gn("pie")),t.registerProcessor({seriesType:"pie",reset:function(t,e){var i=t.getData();i.filterSelf((function(t){var e=i.mapDimension("value"),n=i.get(e,t);return!("number"==typeof n&&!isNaN(n)&&n<0)}))}})}var Mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(lt),Cn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",dt).models[0]},e.type="cartesian2dAxis",e}(lt);ut(Cn,ht);var Tn={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Dn=pt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Tn),Ln=pt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Tn),kn={category:Dn,value:Ln,time:pt({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Ln),log:ct({scale:!0,logBase:10},Ln)},Pn={value:1,category:1,time:1,log:1};function On(t,e,i,n){a(Pn,(function(o,r){var a=pt(pt({},kn[r],!0),n,!0),s=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e+"Axis."+r,i}return d(i,t),i.prototype.mergeDefaultAndTheme=function(t,e){var i=gt(this),n=i?ft(t):{},o=e.getTheme();pt(t,o.get(r+"Axis")),pt(t,this.getDefaultOption()),t.type=Nn(t),i&&yt(t,n,i)},i.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=mt.createByAxisModel(this))},i.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=e+"Axis."+r,i.defaultOption=a,i}(i);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",Nn)}function Nn(t){return t.type||(t.data?"category":"value")}var Rn=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return r(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),vt(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),Bn=["x","y"];function En(t){return"interval"===t.type||"time"===t.type}var zn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Bn,e}return d(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(En(t)&&En(e)){var i=t.getExtent(),n=e.getExtent(),o=this.dataToPoint([i[0],n[0]]),r=this.dataToPoint([i[1],n[1]]),a=i[1]-i[0],s=n[1]-n[0];if(a&&s){var l=(r[0]-o[0])/a,d=(r[1]-o[1])/s,u=o[0]-i[0]*l,h=o[1]-n[0]*d,p=this._transform=[l,0,0,d,u,h];this._invTransform=xt([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,i){i=i||[];var n=t[0],o=t[1];if(this._transform&&null!=n&&isFinite(n)&&null!=o&&isFinite(o))return _t(i,t,this._transform);var r=this.getAxis("x"),a=this.getAxis("y");return i[0]=r.toGlobalCoord(r.dataToCoord(n,e)),i[1]=a.toGlobalCoord(a.dataToCoord(o,e)),i},e.prototype.clampData=function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),r=n.getExtent(),a=i.parse(t[0]),s=n.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e},e.prototype.pointToData=function(t,e){var i=[];if(this._invTransform)return _t(i,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(t[0]),e),i[1]=o.coordToData(o.toLocalCoord(t[1]),e),i},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),n=Math.min(e[0],e[1]),o=Math.max(t[0],t[1])-i,r=Math.max(e[0],e[1])-n;return new bt(i,n,o,r)},e}(Rn),Gn=function(t){function e(e,i,n,o,r){var a=t.call(this,e,i,n)||this;return a.index=0,a.type=o||"value",a.position=r||"bottom",a}return d(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(wt);function Vn(t,e,i){i=i||{};var n=t.coordinateSystem,o=e.axis,r={},a=o.getAxesOnZeroOf()[0],s=o.position,l=a?"onZero":s,d=o.dim,u=n.getRect(),h=[u.x,u.x+u.width,u.y,u.y+u.height],p={left:0,right:1,top:0,bottom:1,onZero:2},c=e.get("offset")||0,g="x"===d?[h[2]-c,h[3]+c]:[h[0]-c,h[1]+c];if(a){var f=a.toGlobalCoord(a.dataToCoord(0));g[p.onZero]=Math.max(Math.min(f,g[1]),g[0])}r.position=["y"===d?g[p[l]]:h[0],"x"===d?g[p[l]]:h[3]],r.rotation=Math.PI/2*("x"===d?0:1);r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],r.labelOffset=a?g[p[s]]-g[p.onZero]:0,e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),At(i.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var y=e.get(["axisLabel","rotate"]);return r.labelRotate="top"===l?-y:y,r.z2=1,r}function Hn(t){return"cartesian2d"===t.get("coordinateSystem")}function Un(t){var e={xAxisModel:null,yAxisModel:null};return a(e,(function(i,n){var o=n.replace(/Model$/,""),r=t.getReferringComponents(o,dt).models[0];e[n]=r})),e}function Wn(t,e){return t.getCoordSysModel()===e}function Fn(t,e,i,n){i.getAxesOnZeroOf=function(){return o?[o]:[]};var o,r=t[e],a=i.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)Yn(r[l])&&(o=r[l]);else for(var d in r)if(r.hasOwnProperty(d)&&Yn(r[d])&&!n[u(r[d])]){o=r[d];break}o&&(n[u(o)]=!0)}function u(t){return t.dim+"_"+t.index}}function Yn(t){return t&&"category"!==t.type&&"time"!==t.type&&Lt(t)}var Xn=function(){function t(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Bn,this._initCartesian(t,e,i),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),a(i.x,(function(t){St(t.scale,t.model)})),a(i.y,(function(t){St(t.scale,t.model)}));var n={};a(i.x,(function(t){Fn(i,"y",t,n)})),a(i.y,(function(t){Fn(i,"x",t,n)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,i){var n=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),r=H(n,{width:e.getWidth(),height:e.getHeight()});this._rect=r;var s=this._axesList;function l(){a(s,(function(t){var e=t.isHorizontal(),i=e?[0,r.width]:[0,r.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),function(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}(t,e?r.x:r.y)}))}l(),o&&(a(s,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=It(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get(["axisLabel","margin"]);r[i]-=e[i]+n,"top"===t.position?r.y+=e.height+n:"left"===t.position&&(r.x+=e.width+n)}}})),l()),a(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}Mt(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis("x").index===t||o[n].getAxis("y").index===e)return o[n]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,i){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(t){var e,i,n=t.seriesModel,o=t.xAxisModel||n&&n.getReferringComponents("xAxis",dt).models[0],r=t.yAxisModel||n&&n.getReferringComponents("yAxis",dt).models[0],a=t.gridModel,s=this._coordsList;if(n)e=n.coordinateSystem,Ct(s,e)<0&&(e=null);else if(o&&r)e=this.getCartesian(o.componentIndex,r.componentIndex);else if(o)i=this.getAxis("x",o.componentIndex);else if(r)i=this.getAxis("y",r.componentIndex);else if(a){a.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:i}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,i){var n=this,o=this,r={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",d("x"),this),e.eachComponent("yAxis",d("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function d(e){return function(i,n){if(Wn(i,t)){var a=i.get("position");"x"===e?"top"!==a&&"bottom"!==a&&(a=r.bottom?"top":"bottom"):"left"!==a&&"right"!==a&&(a=r.left?"right":"left"),r[a]=!0;var d=new Gn(e,Tt(i),[0,0],i.get("type"),a),u="category"===d.type;d.onBand=u&&i.get("boundaryGap"),d.inverse=i.get("inverse"),i.axis=d,d.model=i,d.grid=o,d.index=n,o._axesList.push(d),s[e][n]=d,l[e]++}}}this._axesMap=s,a(s.x,(function(e,i){a(s.y,(function(o,r){var a="x"+i+"y"+r,s=new zn(a);s.master=n,s.model=t,n._coordsMap[a]=s,n._coordsList.push(s),s.addAxis(e),s.addAxis(o)}))}))},t.prototype._updateScale=function(t,e){function i(t,e){a(Dt(t,e.dim),(function(i){e.scale.unionExtentFromData(t,i)}))}a(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(Hn(t)){var n=Un(t),o=n.xAxisModel,r=n.yAxisModel;if(!Wn(o,e)||!Wn(r,e))return;var a=this.getCartesian(o.componentIndex,r.componentIndex),s=t.getData(),l=a.getAxis("x"),d=a.getAxis("y");"list"===s.type&&(i(s,l),i(s,d))}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],i=[];return a(this.getCartesians(),(function(n){var o=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),r=n.getOtherAxis(o);Ct(e,o)<0&&e.push(o),Ct(i,r)<0&&i.push(r)})),{baseAxes:e,otherAxes:i}},t.create=function(e,i){var n=[];return e.eachComponent("grid",(function(o,r){var a=new t(o,e,i);a.name="grid_"+r,a.resize(o,i,!0),o.coordinateSystem=a,n.push(a)})),e.eachSeries((function(t){if(Hn(t)){var e=Un(t),i=e.xAxisModel,n=e.yAxisModel,o=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=o.getCartesian(i.componentIndex,n.componentIndex)}})),n},t.dimensions=Bn,t}(),Zn=Math.PI,jn=function(){function t(t,e){this.group=new D,this.opt=e,this.axisModel=t,ct(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new D({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(t){return!!Kn[t]},t.prototype.add=function(t){Kn[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,i){var n,o,r=zt(e-t);return Gt(r)?(o=i>0?"top":"bottom",n="center"):Gt(r-Zn)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=r>0&&r<Zn?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:o}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),Kn={axisLine:function(t,e,i,n){var o=e.get(["axisLine","show"]);if("auto"===o&&t.handleAutoShown&&(o=t.handleAutoShown("axisLine")),o){var r=e.axis.getExtent(),s=n.transform,l=[r[0],0],d=[r[1],0];s&&(_t(l,l,s),_t(d,d,s));var u=f({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new kt({subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:d[0],y2:d[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});h.anid="line",i.add(h);var p=e.get(["axisLine","symbol"]);if(null!=p){var c=e.get(["axisLine","symbolSize"]);"string"==typeof p&&(p=[p,p]),"string"!=typeof c&&"number"!=typeof c||(c=[c,c]);var g=Pt(e.get(["axisLine","symbolOffset"])||0,c),y=c[0],m=c[1];a([{rotate:t.rotation+Math.PI/2,offset:g[0],r:0},{rotate:t.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((l[0]-d[0])*(l[0]-d[0])+(l[1]-d[1])*(l[1]-d[1]))}],(function(e,n){if("none"!==p[n]&&null!=p[n]){var o=Ot(p[n],-y/2,-m/2,y,m,u.stroke,!0),r=e.r+e.offset;o.attr({rotation:e.rotate,x:l[0]+r*Math.cos(t.rotation),y:l[1]-r*Math.sin(t.rotation),silent:!0,z2:11}),i.add(o)}}))}}},axisTickLabel:function(t,e,i,n){var o=function(t,e,i,n){var o=i.axis,r=i.getModel("axisTick"),a=r.get("show");"auto"===a&&n.handleAutoShown&&(a=n.handleAutoShown("axisTick"));if(!a||o.scale.isBlank())return;for(var s=r.getModel("lineStyle"),l=n.tickDirection*r.get("length"),d=$n(o.getTicksCoords(),e.transform,l,ct(s.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),u=0;u<d.length;u++)t.add(d[u]);return d}(i,n,e,t),s=function(t,e,i,n){var o=i.axis;if(!At(n.axisLabelShow,i.get(["axisLabel","show"]))||o.scale.isBlank())return;var r=i.getModel("axisLabel"),s=r.get("margin"),l=o.getViewLabels(),d=(At(n.labelRotate,r.get("rotate"))||0)*Zn/180,u=jn.innerTextLayout(n.rotation,d,n.labelDirection),h=i.getCategories&&i.getCategories(!0),p=[],c=jn.isLabelSilent(i),g=i.get("triggerEvent");return a(l,(function(a,l){var d="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(a.tickValue):a.tickValue,f=a.formattedLabel,y=a.rawLabel,m=r;if(h&&h[d]){var v=h[d];Mt(v)&&v.textStyle&&(m=new Ft(v.textStyle,r,i.ecModel))}var x=m.getTextColor()||i.get(["axisLine","lineStyle","color"]),_=o.dataToCoord(d),b=new K({x:_,y:n.labelOffset+n.labelDirection*s,rotation:u.rotation,silent:c,z2:10+(a.level||0),style:Bt(m,{text:f,align:m.getShallow("align",!0)||u.textAlign,verticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||u.textVerticalAlign,fill:"function"==typeof x?x("category"===o.type?y:"value"===o.type?d+"":d,l):x})});if(b.anid="label_"+d,g){var w=jn.makeAxisEventDataBase(i);w.targetType="axisLabel",w.value=y,L(b).eventData=w}e.add(b),b.updateTransform(),p.push(b),t.add(b),b.decomposeTransform()})),p}(i,n,e,t);if(function(t,e,i){if(Vt(t.axis))return;var n=t.get(["axisLabel","showMinLabel"]),o=t.get(["axisLabel","showMaxLabel"]);i=i||[];var r=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],d=i[0],u=i[1],h=i[i.length-1],p=i[i.length-2];!1===n?(qn(r),qn(d)):Jn(r,a)&&(n?(qn(a),qn(u)):(qn(r),qn(d)));!1===o?(qn(s),qn(h)):Jn(l,s)&&(o?(qn(l),qn(p)):(qn(s),qn(h)))}(e,s,o),function(t,e,i,n){var o=i.axis,r=i.getModel("minorTick");if(!r.get("show")||o.scale.isBlank())return;var a=o.getMinorTicksCoords();if(!a.length)return;for(var s=r.getModel("lineStyle"),l=n*r.get("length"),d=ct(s.getLineStyle(),ct(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var h=$n(a[u],e.transform,l,d,"minorticks_"+u),p=0;p<h.length;p++)t.add(h[p])}(i,n,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var l=Nt(r(s,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})));Rt(l)}},axisName:function(t,e,i,n){var o=At(t.axisName,e.get("name"));if(o){var r,a,s=e.get("nameLocation"),l=t.nameDirection,d=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,h=e.axis.getExtent(),p=h[0]>h[1]?-1:1,c=["start"===s?h[0]-p*u:"end"===s?h[1]+p*u:(h[0]+h[1])/2,Qn(s)?t.labelOffset+l*u:0],g=e.get("nameRotate");null!=g&&(g=g*Zn/180),Qn(s)?r=jn.innerTextLayout(t.rotation,null!=g?g:t.rotation,l):(r=function(t,e,i,n){var o,r,a=zt(i-t),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;Gt(a-Zn/2)?(r=l?"bottom":"top",o="center"):Gt(a-1.5*Zn)?(r=l?"top":"bottom",o="center"):(r="middle",o=a<1.5*Zn&&a>Zn/2?l?"left":"right":l?"right":"left");return{rotation:a,textAlign:o,textVerticalAlign:r}}(t.rotation,s,g||0,h),null!=(a=t.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(r.rotation)),!isFinite(a)&&(a=null)));var f=d.getFont(),y=e.get("nameTruncate",!0)||{},m=y.ellipsis,v=At(t.nameTruncateMaxWidth,y.maxWidth,a),x=new K({x:c[0],y:c[1],rotation:r.rotation,silent:jn.isLabelSilent(e),style:Bt(d,{text:o,font:f,overflow:"truncate",width:v,ellipsis:m,fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:d.get("align")||r.textAlign,verticalAlign:d.get("verticalAlign")||r.textVerticalAlign}),z2:1});if(Et({el:x,componentModel:e,itemName:o}),x.__fullText=o,x.anid="name",e.get("triggerEvent")){var _=jn.makeAxisEventDataBase(e);_.targetType="axisName",_.name=o,L(x).eventData=_}n.add(x),x.updateTransform(),i.add(x),x.decomposeTransform()}}};function qn(t){t&&(t.ignore=!0)}function Jn(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var o=Ht([]);return Ut(o,o,-t.rotation),i.applyTransform(Wt([],o,t.getLocalTransform())),n.applyTransform(Wt([],o,e.getLocalTransform())),i.intersect(n)}}function Qn(t){return"middle"===t||"center"===t}function $n(t,e,i,n,o){for(var r=[],a=[],s=[],l=0;l<t.length;l++){var d=t[l].coord;a[0]=d,a[1]=0,s[0]=d,s[1]=i,e&&(_t(a,a,e),_t(s,s,e));var u=new kt({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});u.anid=o+"_"+t[l].tickValue,r.push(u)}return r}var to=jn;function eo(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,i){var n=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),r=o.get("link",!0)||[],s=[];a(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var l=ao(i.model),d=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=i;var u=i.model.getModel("tooltip",n);if(a(i.getAxes(),z(g,!1,null)),i.getTooltipAxes&&n&&u.get("show")){var h="axis"===u.get("trigger"),p="cross"===u.get(["axisPointer","type"]),c=i.getTooltipAxes(u.get(["axisPointer","axis"]));(h||p)&&a(c.baseAxes,z(g,!p||"cross",h)),p&&a(c.otherAxes,z(g,"cross",!1))}}function g(n,l,h){var p=h.model.getModel("axisPointer",o),c=p.get("show");if(c&&("auto"!==c||n||ro(p))){null==l&&(l=p.get("triggerTooltip"));var g=(p=n?function(t,e,i,n,o,r){var s=e.getModel("axisPointer"),l={};a(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){l[t]=Yt(s.get(t))})),l.snap="category"!==t.type&&!!r,"cross"===s.get("type")&&(l.type="line");var d=l.label||(l.label={});if(null==d.show&&(d.show=!1),"cross"===o){var u=s.get(["label","show"]);if(d.show=null==u||u,!r){var h=l.lineStyle=s.get("crossStyle");h&&ct(d,h.textStyle)}}return t.model.getModel("axisPointer",new Ft(l,i,n))}(h,u,o,e,n,l):p).get("snap"),f=ao(h.model),y=l||g||"category"===h.type,m=t.axesInfo[f]={key:f,axis:h,coordSys:i,axisPointerModel:p,triggerTooltip:l,involveSeries:y,snap:g,useHandle:ro(p),seriesModels:[],linkGroup:null};d[f]=m,t.seriesInvolved=t.seriesInvolved||y;var v=function(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var r=t[o]||{};if(io(r[n+"AxisId"],i.id)||io(r[n+"AxisIndex"],i.componentIndex)||io(r[n+"AxisName"],i.name))return o}}(r,h);if(null!=v){var x=s[v]||(s[v]={axesInfo:{}});x.axesInfo[f]=m,x.mapper=r[v].mapper,m.linkGroup=x}}}}))}(i,t,e),i.seriesInvolved&&function(t,e){e.eachSeries((function(e){var i=e.coordinateSystem,n=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==o&&!1!==e.get(["axisPointer","show"],!0)&&a(t.coordSysAxesInfo[ao(i.model)],(function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(i,t),i}function io(t,e){return"all"===t||m(t)&&Ct(t,e)>=0||t===e}function no(t){var e=oo(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,r=i.get("status"),a=i.get("value");null!=a&&(a=n.parse(a));var s=ro(i);null==r&&(o.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),o.value=a,s&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function oo(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[ao(t)]}function ro(t){return!!t.get(["handle","show"])}function ao(t){return t.type+"||"+t.id}var so={},lo=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.prototype.render=function(e,i,n,o){this.axisPointerClass&&no(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,n,!0)},e.prototype.updateAxisPointer=function(t,e,i,n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,e){var i=this._axisPointer;i&&i.remove(e)},e.prototype.dispose=function(e,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,n){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var r=function(t){var e=oo(t);return e&&e.axisPointerModel}(t);r?(this._axisPointer||(this._axisPointer=new o)).render(t,r,i,n):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){so[t]=e},e.getAxisPointerClass=function(t){return t&&so[t]},e.type="axis",e}(Xt),uo=Zt();function ho(t,e,i,n){var o=i.axis;if(!o.scale.isBlank()){var r=i.getModel("splitArea"),a=r.getModel("areaStyle"),s=a.get("color"),l=n.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:r,clamp:!0});if(d.length){var u=s.length,h=uo(t).splitAreaColors,p=jt(),c=0;if(h)for(var g=0;g<d.length;g++){var f=h.get(d[g].tickValue);if(null!=f){c=(f+(u-1)*g)%u;break}}var y=o.toGlobalCoord(d[0].coord),x=a.getAreaStyle();s=m(s)?s:[s];for(g=1;g<d.length;g++){var _=o.toGlobalCoord(d[g].coord),b=void 0,w=void 0,A=void 0,S=void 0;o.isHorizontal()?(b=y,w=l.y,A=_-b,S=l.height,y=b+A):(b=l.x,w=y,A=l.width,y=w+(S=_-w));var I=d[g-1].tickValue;null!=I&&p.set(I,c),e.add(new v({anid:null!=I?"area_"+I:null,shape:{x:b,y:w,width:A,height:S},style:ct({fill:s[c]},x),autoBatch:!0,silent:!0})),c=(c+1)%u}uo(t).splitAreaColors=p}}}function po(t){uo(t).splitAreaColors=null}var co=["axisLine","axisTickLabel","axisName"],go=["splitArea","splitLine","minorSplitLine"],fo=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="CartesianAxisPointer",i}return d(e,t),e.prototype.render=function(e,i,n,o){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new D,this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),l=Vn(s,e),d=new to(e,f({handleAutoShown:function(t){for(var i=s.coordinateSystem.getCartesians(),n=0;n<i.length;n++){var o=i[n].getOtherAxis(e.axis).type;if("value"===o||"log"===o)return!0}return!1}},l));a(co,d.add,d),this._axisGroup.add(d.getGroup()),a(go,(function(t){e.get([t,"show"])&&yo[t](this,this._axisGroup,e,s)}),this),o&&"changeAxisOrder"===o.type&&o.isInitSort||Kt(r,this._axisGroup,e),t.prototype.render.call(this,e,i,n,o)}},e.prototype.remove=function(){po(this)},e.type="cartesianAxis",e}(lo),yo={splitLine:function(t,e,i,n){var o=i.axis;if(!o.scale.isBlank()){var r=i.getModel("splitLine"),a=r.getModel("lineStyle"),s=a.get("color");s=m(s)?s:[s];for(var l=n.coordinateSystem.getRect(),d=o.isHorizontal(),u=0,h=o.getTicksCoords({tickModel:r}),p=[],c=[],g=a.getLineStyle(),f=0;f<h.length;f++){var y=o.toGlobalCoord(h[f].coord);d?(p[0]=y,p[1]=l.y,c[0]=y,c[1]=l.y+l.height):(p[0]=l.x,p[1]=y,c[0]=l.x+l.width,c[1]=y);var v=u++%s.length,x=h[f].tickValue;e.add(new kt({anid:null!=x?"line_"+h[f].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:c[0],y2:c[1]},style:ct({stroke:s[v]},g),silent:!0}))}}},minorSplitLine:function(t,e,i,n){var o=i.axis,r=i.getModel("minorSplitLine").getModel("lineStyle"),a=n.coordinateSystem.getRect(),s=o.isHorizontal(),l=o.getMinorTicksCoords();if(l.length)for(var d=[],u=[],h=r.getLineStyle(),p=0;p<l.length;p++)for(var c=0;c<l[p].length;c++){var g=o.toGlobalCoord(l[p][c].coord);s?(d[0]=g,d[1]=a.y,u[0]=g,u[1]=a.y+a.height):(d[0]=a.x,d[1]=g,u[0]=a.x+a.width,u[1]=g),e.add(new kt({anid:"minor_line_"+l[p][c].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:u[0],y2:u[1]},style:h,silent:!0}))}},splitArea:function(t,e,i,n){ho(t,e,i,n)}},mo=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.type="xAxis",e}(fo),vo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=mo.type,e}return d(e,t),e.type="yAxis",e}(fo),xo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return d(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new v({shape:t.coordinateSystem.getRect(),style:ct({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(Xt),_o={offset:0};function bo(t){t.registerComponentView(xo),t.registerComponentModel(Mn),t.registerCoordinateSystem("cartesian2d",Xn),On(t,"x",Cn,_o),On(t,"y",Cn,_o),t.registerComponentView(mo),t.registerComponentView(vo),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}var wo=Zt(),Ao=Yt,So=nt;function Io(t,e,i,n){Mo(wo(i).lastProp,n)||(wo(i).lastProp=n,e?M(i,n,t):(i.stopAnimation(),i.attr(n)))}function Mo(t,e){if(Mt(t)&&Mt(e)){var i=!0;return a(e,(function(e,n){i=i&&Mo(t[n],e)})),!!i}return t===e}function Co(t,e){t[e.get(["label","show"])?"show":"hide"]()}function To(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function Do(t,e,i){var n=e.get("z"),o=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i)}))}var Lo=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,i,n){var o=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==r){this._lastValue=o,this._lastStatus=r;var a=this._group,s=this._handle;if(!r||"hide"===r)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,o,t,e,i);var d=l.graphicKey;d!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=d;var u=this._moveAnimation=this.determineAnimation(t,e);if(a){var h=z(Io,e,u);this.updatePointerEl(a,l,h),this.updateLabelEl(a,l,h,e)}else a=this._group=new D,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),i.getZr().add(a);Do(a,e,!0),this._renderHandle(o)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var i=e.get("animation"),n=t.axis,o="category"===n.type,r=e.get("snap");if(!r&&!o)return!1;if("auto"===i||null==i){var a=this.animationThreshold;if(o&&n.getBandWidth()>a)return!0;if(r){var s=oo(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===i},t.prototype.makeElOption=function(t,e,i,n,o){},t.prototype.createPointerEl=function(t,e,i,n){var o=e.pointer;if(o){var r=wo(t).pointerEl=new qt[o.type](Ao(e.pointer));t.add(r)}},t.prototype.createLabelEl=function(t,e,i,n){if(e.label){var o=wo(t).labelEl=new K(Ao(e.label));t.add(o),Co(o,n)}},t.prototype.updatePointerEl=function(t,e,i){var n=wo(t).pointerEl;n&&e.pointer&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,i,n){var o=wo(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),Co(o,n))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),o=this._handle,r=i.getModel("handle"),a=i.get("status");if(!r.get("show")||!a||"hide"===a)return o&&n.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Jt(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Qt(t.event)},onmousedown:So(this._onHandleDragMove,this,0,0),drift:So(this._onHandleDragMove,this),ondragend:So(this._onHandleDragEnd,this)}),n.add(o)),Do(o,i,!1),o.setStyle(r.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=r.get("size");m(s)||(s=[s,s]),o.scaleX=s[0]/2,o.scaleY=s[1]/2,$t(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){Io(this._axisPointerModel,!e&&this._moveAnimation,this._handle,To(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(To(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(To(n)),wo(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},t}();function ko(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle()).fill=null:"shadow"===i&&((e=n.getAreaStyle()).stroke=null),e}function Po(t,e,i,n,o){var r=Oo(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),a=i.getModel("label"),s=ee(a.get("padding")||0),l=a.getFont(),d=ie(r,l),u=o.position,h=d.width+s[1]+s[3],p=d.height+s[0]+s[2],c=o.align;"right"===c&&(u[0]-=h),"center"===c&&(u[0]-=h/2);var g=o.verticalAlign;"bottom"===g&&(u[1]-=p),"middle"===g&&(u[1]-=p/2),function(t,e,i,n){var o=n.getWidth(),r=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,r)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(u,h,p,n);var f=a.get("backgroundColor");f&&"auto"!==f||(f=e.get(["axisLine","lineStyle","color"])),t.label={x:u[0],y:u[1],style:Bt(a,{text:r,font:l,fill:a.getTextColor(),padding:s,backgroundColor:f}),z2:10}}function Oo(t,e,i,n,o){t=e.scale.parse(t);var r=e.scale.getLabel({value:t},{precision:o.precision}),s=o.formatter;if(s){var l={value:ne(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};a(n,(function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,o=e&&e.getDataParams(n);o&&l.seriesData.push(o)})),oe(s)?r=s.replace("{value}",r):re(s)&&(r=s(l))}return r}function No(t,e,i){var n=se();return Ut(n,n,i.rotation),ae(n,n,i.position),te([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function Ro(t,e,i,n,o,r){var a=to.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get(["label","margin"]),Po(e,n,o,r,{position:No(n.axis,t,i),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function Bo(t,e,i){return{x1:t[i=i||0],y1:t[1-i],x2:e[i],y2:e[1-i]}}function Eo(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}function zo(t,e,i,n,o,r){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:r,clockwise:!0}}var Go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.makeElOption=function(t,e,i,n,o){var r=i.axis,a=r.grid,s=n.get("type"),l=Vo(a,r).getOtherAxis(r).getGlobalExtent(),d=r.toGlobalCoord(r.dataToCoord(e,!0));if(s&&"none"!==s){var u=ko(n),h=Ho[s](r,d,l);h.style=u,t.graphicKey=h.type,t.pointer=h}Ro(e,t,Vn(a.model,i),i,n,o)},e.prototype.getHandleTransform=function(t,e,i){var n=Vn(e.axis.grid.model,e,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=No(e.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,i,n){var o=i.axis,r=o.grid,a=o.getGlobalExtent(!0),s=Vo(r,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,d=[t.x,t.y];d[l]+=e[l],d[l]=Math.min(a[1],d[l]),d[l]=Math.max(a[0],d[l]);var u=(s[1]+s[0])/2,h=[u,u];h[l]=d[l];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(Lo);function Vo(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var Ho={line:function(t,e,i){return{type:"Line",subPixelOptimize:!0,shape:Bo([e,i[0]],[e,i[1]],Uo(t))}},shadow:function(t,e,i){var n=Math.max(1,t.getBandWidth()),o=i[1]-i[0];return{type:"Rect",shape:Eo([e-n/2,i[0]],[n,o],Uo(t))}}};function Uo(t){return"x"===t.dim?0:1}var Wo=Go,Fo=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(lt),Yo=Zt(),Xo=a;function Zo(t,e,i){if(!le.node){var n=e.getZr();Yo(n).records||(Yo(n).records={}),function(t,e){if(Yo(t).initialized)return;function i(i,n){t.on(i,(function(i){var o=function(t){var e={showTip:[],hideTip:[]},i=function(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}(e);Xo(Yo(t).records,(function(t){t&&n(t,i,o.dispatchAction)})),function(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]);i&&(i.dispatchAction=null,e.dispatchAction(i))}(o.pendings,e)}))}Yo(t).initialized=!0,i("click",z(Ko,"click")),i("mousemove",z(Ko,"mousemove")),i("globalout",jo)}(n,e),(Yo(n).records[t]||(Yo(n).records[t]={})).handler=i}}function jo(t,e,i){t.handler("leave",null,i)}function Ko(t,e,i,n){e.handler(t,i,n)}function qo(t,e){if(!le.node){var i=e.getZr();(Yo(i).records||{})[t]&&(Yo(i).records[t]=null)}}var Jo=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.prototype.render=function(t,e,i){var n=e.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";Zo("axisPointer",i,(function(t,e,i){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){qo("axisPointer",e)},e.prototype.dispose=function(t,e){qo("axisPointer",e)},e.type="axisPointer",e}(Xt);function Qo(t,e){var i,n=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var a=i.getData(),s=de(a,t);if(null==s||s<0||m(s))return{point:[]};var l=a.getItemGraphicEl(s),d=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(s)||[];else if(d&&d.dataToPoint)if(t.isStacked){var u=d.getBaseAxis(),h=d.getOtherAxis(u).dim,p=u.dim,c="x"===h||"radius"===h?1:0,g=a.mapDimension(p),f=[];f[c]=a.get(g,s),f[1-c]=a.get(a.getCalculationInfo("stackResultDimension"),s),n=d.dataToPoint(f)||[]}else n=d.dataToPoint(a.getValues(r(d.dimensions,(function(t){return a.mapDimension(t)})),s))||[];else if(l){var y=l.getBoundingRect().clone();y.applyTransform(l.transform),n=[y.x+y.width/2,y.y+y.height/2]}return{point:n,el:l}}var $o=Zt();function tr(t,e,i){var n=t.currTrigger,o=[t.x,t.y],r=t,s=t.dispatchAction||nt(i.dispatchAction,i),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){rr(o)&&(o=Qo({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var d=rr(o),u=r.axesInfo,h=l.axesInfo,p="leave"===n||rr(o),c={},g={},f={list:[],map:{}},y={showPointer:z(ir,g),showTooltip:z(nr,f)};a(l.coordSysMap,(function(t,e){var i=d||t.containPoint(o);a(l.coordSysAxesInfo[e],(function(t,e){var n=t.axis,r=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(u,t);if(!p&&i&&(!u||r)){var a=r&&r.value;null!=a||d||(a=n.pointToData(o)),null!=a&&er(t,a,y,!1,c)}}))}));var m={};return a(h,(function(t,e){var i=t.linkGroup;i&&!g[e]&&a(i.axesInfo,(function(e,n){var o=g[n];if(e!==t&&o){var r=o.value;i.mapper&&(r=t.axis.scale.parse(i.mapper(r,or(e),or(t)))),m[t.key]=r}}))})),a(m,(function(t,e){er(h[e],t,y,!0,c)})),function(t,e,i){var n=i.axesInfo=[];a(e,(function(e,i){var o=e.axisPointerModel.option,r=t[i];r?(!e.useHandle&&(o.status="show"),o.value=r.value,o.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})}))}(g,h,c),function(t,e,i,n){if(rr(e)||!t.list.length)return void n({type:"hideTip"});var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}(f,o,t,s),function(t,e,i){var n=i.getZr(),o="axisPointerLastHighlights",r=$o(n)[o]||{},s=$o(n)[o]={};a(t,(function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&a(i.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;s[e]=t}))}));var l=[],d=[];a(r,(function(t,e){!s[e]&&d.push(t)})),a(s,(function(t,e){!r[e]&&l.push(t)})),d.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),l.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}(h,0,i),c}}function er(t,e,i,n,o){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e))if(t.involveSeries){var s=function(t,e){var i=e.axis,n=i.dim,o=t,r=[],s=Number.MAX_VALUE,l=-1;return a(e.seriesModels,(function(e,d){var u,h,p=e.getData().mapDimensionsAll(n);if(e.getAxisTooltipData){var c=e.getAxisTooltipData(p,t,i);h=c.dataIndices,u=c.nestestValue}else{if(!(h=e.getData().indicesOfNearest(p[0],t,"category"===i.type?.5:null)).length)return;u=e.getData().get(p[0],h[0])}if(null!=u&&isFinite(u)){var g=t-u,f=Math.abs(g);f<=s&&((f<s||g>=0&&l<0)&&(s=f,l=g,o=u,r.length=0),a(h,(function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:r,snapToValue:o}}(e,t),l=s.payloadBatch,d=s.snapToValue;l[0]&&null==o.seriesIndex&&f(o,l[0]),!n&&t.snap&&r.containData(d)&&null!=d&&(e=d),i.showPointer(t,e,l),i.showTooltip(t,s,d)}else i.showPointer(t,e)}function ir(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function nr(t,e,i,n){var o=i.payloadBatch,r=e.axis,a=r.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,d=ao(l),u=t.map[d];u||(u=t.map[d]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:r.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function or(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function rr(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function ar(t){lo.registerAxisPointerClass("CartesianAxisPointer",Wo),t.registerComponentModel(Fo),t.registerComponentView(Jo),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!m(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=eo(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},tr)}function sr(t){ue(bo),ue(ar)}function lr(t,e,i){var n=e.getBoxLayoutParams(),o=e.get("padding"),r={width:i.getWidth(),height:i.getHeight()},a=H(n,r,o);he(e.get("orient"),t,e.get("itemGap"),a.width,a.height),pe(t,n,r,o)}function dr(t,e){var i=ee(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new v({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1})}var ur=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(lt);function hr(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function pr(t){if(le.domSupported)for(var e=document.documentElement.style,i=0,n=t.length;i<n;i++)if(t[i]in e)return t[i]}var cr=pr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function gr(t,e){if(!t)return e;e=ce(e,!0);var i=t.indexOf(e);return(t=-1===i?e:"-"+t.slice(0,i)+"-"+e).toLowerCase()}var fr=gr(pr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),yr=gr(cr,"transform"),mr="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(le.transform3dSupported?"will-change:transform;":"");function vr(t,e,i){var n=t.toFixed(0)+"px",o=e.toFixed(0)+"px";if(!le.transformSupported)return i?"top:"+o+";left:"+n+";":[["top",o],["left",n]];var r=le.transform3dSupported,a="translate"+(r?"3d":"")+"("+n+","+o+(r?",0":"")+")";return i?"top:0;left:0;"+yr+":"+a+";":[["top",0],["left",0],[cr,a]]}function xr(t,e,i){var n=[],o=t.get("transitionDuration"),r=t.get("backgroundColor"),s=t.get("shadowBlur"),l=t.get("shadowColor"),d=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),p=t.getModel("textStyle"),c=me(t,"html"),g=d+"px "+u+"px "+s+"px "+l;return n.push("box-shadow:"+g),e&&o&&n.push(function(t,e){var i="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+i,o="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+i,o+=le.transformSupported?","+yr+n:",left"+n+",top"+n),fr+":"+o}(o,i)),r&&(le.canvasSupported?n.push("background-color:"+r):(n.push("background-color:#"+h(r)),n.push("filter:alpha(opacity=70)"))),a(["width","color","radius"],(function(e){var i="border-"+e,o=ce(i),r=t.get(o);null!=r&&n.push(i+":"+r+("color"===e?"":"px"))})),n.push(function(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px");var o=t.get("textShadowColor"),r=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return o&&r&&e.push("text-shadow:"+s+"px "+l+"px "+r+"px "+o),a(["decoration","align"],(function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)})),e.join(";")}(p)),null!=c&&n.push("padding:"+ee(c).join("px ")+"px"),n.join(";")+";"}function _r(t,e,i,n,o){var r=e&&e.painter;if(i){var a=r&&r.getViewportRoot();a&&ve(t,a,document.body,n,o)}else{t[0]=n,t[1]=o;var s=r&&r.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var br=function(){function t(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,le.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var o=this._zr=e.getZr(),r=this._appendToBody=i&&i.appendToBody;_r(this._styleCoord,o,r,e.getWidth()/2,e.getHeight()/2),r?document.body.appendChild(n):t.appendChild(n),this._container=t;var a=this;n.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=o.handler,i=o.painter.getViewportRoot();ge(i,t,!0),e.dispatch("mousemove",t)}},n.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e,i,n,o=this._container,r=(i="position",(n=(e=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?i?n[i]:n:null),a=o.style;"absolute"!==a.position&&"absolute"!==r&&(a.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,o=this._styleCoord;i.innerHTML?n.cssText=mr+xr(t,!this._firstShow,this._longHide)+vr(o[0],o[1],!0)+"border-color:"+fe(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,i,n,o){var r=this.el;if(null!=t){var a="";if(oe(o)&&"item"===i.get("trigger")&&!hr(i)&&(a=function(t,e,i){if(!oe(i)||"inside"===i)return"";var n=t.get("backgroundColor"),o=t.get("borderWidth");e=fe(e);var r,a,s="left"===(r=i)?"right":"right"===r?"left":"top"===r?"bottom":"top",l=Math.max(1.5*Math.round(o),6),d="",u=yr+":";Ct(["left","right"],s)>-1?(d+="top:50%",u+="translateY(-50%) rotate("+(a="left"===s?-225:-45)+"deg)"):(d+="left:50%",u+="translateX(-50%) rotate("+(a="top"===s?225:45)+"deg)");var h=a*Math.PI/180,p=l+o,c=p*Math.abs(Math.cos(h))+p*Math.abs(Math.sin(h)),g=e+" solid "+o+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;",(d+=";"+s+":-"+Math.round(100*((c-Math.SQRT2*o)/2+Math.SQRT2*o-(c-p)/2))/100+"px")+";"+u+";","border-bottom:"+g,"border-right:"+g,"background-color:"+n+";"].join("")+'"></div>'}(i,n,o)),oe(t))r.innerHTML=t+a;else if(t){r.innerHTML="",m(t)||(t=[t]);for(var s=0;s<t.length;s++)ye(t[s])&&t[s].parentNode!==r&&r.appendChild(t[s]);if(a&&r.childNodes.length){var l=document.createElement("div");l.innerHTML=a,r.appendChild(l)}}}else r.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var i=this._styleCoord;if(_r(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var n=this.el.style,o=vr(i[0],i[1]);a(o,(function(t){n[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",le.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(nt(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();function wr(t){return Math.max(0,t)}function Ar(t){var e=wr(t.shadowBlur||0),i=wr(t.shadowOffsetX||0),n=wr(t.shadowOffsetY||0);return{left:wr(e-i),right:wr(e+i),top:wr(e-n),bottom:wr(e+n)}}function Sr(t,e,i,n){t[0]=i,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Ir=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),Sr(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,i,n,o){Mt(t)&&xe(""),this.el&&this._zr.remove(this.el);var r=i.getModel("textStyle");this.el=new K({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:n,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:r.get("textShadowColor"),textShadowBlur:r.get("textShadowBlur")||0,textShadowOffsetX:r.get("textShadowOffsetX")||0,textShadowOffsetY:r.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:me(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var a=this;this.el.on("mouseover",(function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0})),this.el.on("mouseout",(function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=Ar(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},t.prototype.moveTo=function(t,e){var i=this.el;if(i){var n=this._styleCoord;Sr(n,this._zr,t,e),t=n[0],e=n[1];var o=i.style,r=wr(o.borderWidth||0),a=Ar(o);i.x=t+r+a.left,i.y=e+r+a.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(nt(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}(),Mr=nt,Cr=a,Tr=W,Dr=new v({shape:{x:-1,y:-1,width:2,height:2}});function Lr(t,e,i){var n,o=e.ecModel;i?(n=new Ft(i,o,o),n=new Ft(e.option,n,o)):n=e;for(var r=t.length-1;r>=0;r--){var a=t[r];a&&(a instanceof Ft&&(a=a.get("tooltip",!0)),oe(a)&&(a={formatter:a}),a&&(n=new Ft(a,n,o)))}return n}function kr(t,e){return t.dispatchAction||nt(e.dispatchAction,e)}function Pr(t){return"center"===t||"middle"===t}var Or=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.prototype.init=function(t,e){if(!le.node){var i=t.getComponent("tooltip"),n=i.get("renderMode");this._renderMode=_e(n),this._tooltipContent="richText"===this._renderMode?new Ir(e):new br(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,e,i){if(!le.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._updatePosition="html"===this._renderMode?E(Mr(this._doUpdatePosition,this),50):this._doUpdatePosition}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");Zo("itemTooltip",this._api,Mr((function(e,i,n){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,n):"leave"===e&&this._hide(n))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,i,n){if(n.from!==this.uid&&!le.node){var o=kr(n,i);this._ticket="";var r=n.dataByCoordSys,a=function(t,e,i){var n=De(t).queryOptionMap,o=n.keys()[0];if(!o||"series"===o)return;var r,a=Le(e,o,n.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(!a)return;if(i.getViewOfComponentModel(a).group.traverse((function(e){var i=L(e).tooltipConfig;if(i&&i.name===t.name)return r=e,!0})),r)return{componentMainType:o,componentIndex:a.componentIndex,el:r}}(n,e,i);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&null!=n.x&&null!=n.y){var l=Dr;l.x=n.x,l.y=n.y,l.update(),L(l).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:l},o)}else if(r)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:r,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var d=Qo(n,e),u=d.point[0],h=d.point[1];null!=u&&null!=h&&this._tryShow({offsetX:u,offsetY:h,target:d.el,position:n.position,positionDefault:"bottom"},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t,e,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(kr(n,i))},e.prototype._manuallyAxisShowTip=function(t,e,i,n){var o=n.seriesIndex,r=n.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=r&&null!=a){var s=e.getSeriesByIndex(o);if(s)if("axis"===Lr([s.getData().getItemModel(r),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:r,position:n.position}),!0}},e.prototype._tryShow=function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;if(n&&n.length)this._showAxisTooltip(n,t);else if(i){var o,r;this._lastDataByCoordSys=null,be(i,(function(t){return null!=L(t).dataIndex?(o=t,!0):null!=L(t).tooltipConfig?(r=t,!0):void 0}),!0),o?this._showSeriesItemTooltip(t,o,e):r?this._showComponentItemTooltip(t,r,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var i=t.get("showDelay");e=nt(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},e.prototype._showAxisTooltip=function(t,e){var i=this._ecModel,n=this._tooltipModel,o=[e.offsetX,e.offsetY],r=Lr([e.tooltipOption],n),s=this._renderMode,l=[],d=we("section",{blocks:[],noHeader:!0}),u=[],h=new Ae;Cr(t,(function(t){Cr(t.dataByAxis,(function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value;if(e&&null!=n){var o=Oo(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt),r=we("section",{header:o,noHeader:!Se(o),sortBlocks:!0,blocks:[]});d.blocks.push(r),a(t.seriesDataIndices,(function(a){var d=i.getSeriesByIndex(a.seriesIndex),p=a.dataIndexInside,c=d.getDataParams(p);if(!(c.dataIndex<0)){c.axisDim=t.axisDim,c.axisIndex=t.axisIndex,c.axisType=t.axisType,c.axisId=t.axisId,c.axisValue=ne(e.axis,{value:n}),c.axisValueLabel=o,c.marker=h.makeTooltipMarker("item",fe(c.color),s);var g=Ie(d.formatTooltip(p,!0,null));g.markupFragment&&r.blocks.push(g.markupFragment),g.markupText&&u.push(g.markupText),l.push(c)}}))}}))})),d.blocks.reverse(),u.reverse();var p=e.position,c=r.get("order"),g=Me(d,h,s,c,i.get("useUTC"),r.get("textStyle"));g&&u.unshift(g);var f="richText"===s?"\n\n":"<br/>",y=u.join(f);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(t,l)?this._updatePosition(r,p,o[0],o[1],this._tooltipContent,l):this._showTooltipContent(r,y,l,Math.random()+"",o[0],o[1],p,null,h)}))},e.prototype._showSeriesItemTooltip=function(t,e,i){var n=this._ecModel,o=L(e),r=o.seriesIndex,a=n.getSeriesByIndex(r),s=o.dataModel||a,l=o.dataIndex,d=o.dataType,u=s.getData(d),h=this._renderMode,p=t.positionDefault,c=Lr([u.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=c.get("trigger");if(null==g||"item"===g){var f=s.getDataParams(l,d),y=new Ae;f.marker=y.makeTooltipMarker("item",fe(f.color),h);var m=Ie(s.formatTooltip(l,!1,d)),v=c.get("order"),x=m.markupFragment?Me(m.markupFragment,y,h,v,n.get("useUTC"),c.get("textStyle")):m.markupText,_="item_"+s.name+"_"+l;this._showOrMove(c,(function(){this._showTooltipContent(c,x,f,_,t.offsetX,t.offsetY,t.position,t.target,y)})),i({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:r,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,i){var n=L(e),o=n.tooltipConfig.option||{};if(oe(o)){o={content:o,formatter:o}}var r=[o],a=this._ecModel.getComponent(n.componentMainType,n.componentIndex);a&&r.push(a),r.push({formatter:o.content});var s=t.positionDefault,l=Lr(r,this._tooltipModel,s?{position:s}:null),d=l.get("content"),u=Math.random()+"",h=new Ae;this._showOrMove(l,(function(){var i=Yt(l.get("formatterParams")||{});this._showTooltipContent(l,d,i,u,t.offsetX,t.offsetY,t.position,e,h)})),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,i,n,o,r,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var d=this._tooltipContent,u=t.get("formatter");a=a||t.get("position");var h=e,p=this._getNearestPoint([o,r],i,t.get("trigger"),t.get("borderColor")).color;if(u)if(oe(u)){var c=t.ecModel.get("useUTC"),g=m(i)?i[0]:i;h=u,g&&g.axisType&&g.axisType.indexOf("time")>=0&&(h=Ce(g.axisValue,h,c)),h=Te(h,i,!0)}else if(re(u)){var f=Mr((function(e,n){e===this._ticket&&(d.setContent(n,l,t,p,a),this._updatePosition(t,a,o,r,d,i,s))}),this);this._ticket=n,h=u(i,n,f)}else h=u;d.setContent(h,l,t,p,a),d.show(t,p),this._updatePosition(t,a,o,r,d,i,s)}},e.prototype._getNearestPoint=function(t,e,i,n){return"axis"===i||m(e)?{color:n||("html"===this._renderMode?"#fff":"none")}:m(e)?void 0:{color:n||e.color||e.borderColor}},e.prototype._doUpdatePosition=function(t,e,i,n,o,r,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var d=o.getSize(),u=t.get("align"),h=t.get("verticalAlign"),p=a&&a.getBoundingRect().clone();if(a&&p.applyTransform(a.transform),re(e)&&(e=e([i,n],r,o.el,p,{viewSize:[s,l],contentSize:d.slice()})),m(e))i=Tr(e[0],s),n=Tr(e[1],l);else if(Mt(e)){var c=e;c.width=d[0],c.height=d[1];var g=H(c,{width:s,height:l});i=g.x,n=g.y,u=null,h=null}else if(oe(e)&&a){var f=function(t,e,i,n){var o=i[0],r=i[1],a=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,d=e.width,u=e.height;switch(t){case"inside":s=e.x+d/2-o/2,l=e.y+u/2-r/2;break;case"top":s=e.x+d/2-o/2,l=e.y-r-a;break;case"bottom":s=e.x+d/2-o/2,l=e.y+u+a;break;case"left":s=e.x-o-a,l=e.y+u/2-r/2;break;case"right":s=e.x+d+a,l=e.y+u/2-r/2}return[s,l]}(e,p,d,t.get("borderWidth"));i=f[0],n=f[1]}else{f=function(t,e,i,n,o,r,a){var s=i.getSize(),l=s[0],d=s[1];null!=r&&(t+l+r+2>n?t-=l+r:t+=r);null!=a&&(e+d+a>o?e-=d+a:e+=a);return[t,e]}(i,n,o,s,l,u?null:20,h?null:20);i=f[0],n=f[1]}if(u&&(i-=Pr(u)?d[0]/2:"right"===u?d[0]:0),h&&(n-=Pr(h)?d[1]/2:"bottom"===h?d[1]:0),hr(t)){f=function(t,e,i,n,o){var r=i.getSize(),a=r[0],s=r[1];return t=Math.min(t+a,n)-a,e=Math.min(e+s,o)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,n,o,s,l);i=f[0],n=f[1]}o.moveTo(i,n)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var i=this._lastDataByCoordSys,n=this._cbParamsList,o=!!i&&i.length===t.length;return o&&Cr(i,(function(i,r){var s=i.dataByAxis||[],l=(t[r]||{}).dataByAxis||[];(o=o&&s.length===l.length)&&Cr(s,(function(t,i){var r=l[i]||{},s=t.seriesDataIndices||[],d=r.seriesDataIndices||[];(o=o&&t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&s.length===d.length)&&Cr(s,(function(t,e){var i=d[e];o=o&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})),n&&a(t.seriesDataIndices,(function(t){var i=t.seriesIndex,r=e[i],a=n[i];r&&a&&a.data!==r.data&&(o=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){le.node||(this._tooltipContent.dispose(),qo("itemTooltip",e))},e.type="tooltip",e}(Xt);function Nr(t){ue(ar),t.registerComponentModel(ur),t.registerComponentView(Or),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}var Rr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return d(e,t),e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(lt),Br=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.prototype.render=function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,o=t.getModel("textStyle"),r=t.getModel("subtextStyle"),a=t.get("textAlign"),s=ke(t.get("textBaseline"),t.get("textVerticalAlign")),l=new K({style:Bt(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),d=l.getBoundingRect(),u=t.get("subtext"),h=new K({style:Bt(r,{text:u,fill:r.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),c=t.get("sublink"),g=t.get("triggerEvent",!0);l.silent=!p&&!g,h.silent=!c&&!g,p&&l.on("click",(function(){Pe(p,"_"+t.get("target"))})),c&&h.on("click",(function(){Pe(c,"_"+t.get("subtarget"))})),L(l).eventData=L(h).eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(l),u&&n.add(h);var f=n.getBoundingRect(),y=t.getBoxLayoutParams();y.width=f.width,y.height=f.height;var m=H(y,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?m.x+=m.width:"center"===a&&(m.x+=m.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?m.y+=m.height:"middle"===s&&(m.y+=m.height/2),s=s||"top"),n.x=m.x,n.y=m.y,n.markRedraw();var x={align:a,verticalAlign:s};l.setStyle(x),h.setStyle(x),f=n.getBoundingRect();var _=m.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var w=new v({shape:{x:f.x-_[3],y:f.y-_[0],width:f.width+_[1]+_[3],height:f.height+_[0]+_[2],r:t.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});n.add(w)}},e.type="title",e}(Xt);function Er(t){t.registerComponentModel(Rr),t.registerComponentView(Br)}var zr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return d(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,i=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),m(e)&&a(e,(function(t,n){oe(t)&&(t={type:t}),e[n]=pt(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(i,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],i=[];t.eachRawSeries((function(n){var o,r=n.name;if(i.push(r),n.legendVisualProvider){var a=n.legendVisualProvider.getAllNames();t.isSeriesFiltered(n)||(i=i.concat(a)),a.length?e=e.concat(a):o=!0}else o=!0;o&&Oe(n)&&e.push(n.name)})),this._availableNames=i;var n=this.get("data")||e,o=r(n,(function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new Ft(t,this,this.ecModel)}),this);this._data=o},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;a(i,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;a(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;a(t,(function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&Ct(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(lt),Gr=z,Vr=a,Hr=D;function Ur(t,e,i,n){Yr(t,e,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),Fr(t,e,i,n)}function Wr(t){for(var e,i=t.getZr().storage.getDisplayList(),n=0,o=i.length;n<o&&!(e=i[n].states.emphasis);)n++;return e&&e.hoverLayer}function Fr(t,e,i,n){Wr(i)||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function Yr(t,e,i,n){Wr(i)||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}var Xr=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.newlineDisabled=!1,t}return d(i,e),i.prototype.init=function(){this.group.add(this._contentGroup=new Hr),this.group.add(this._selectorGroup=new Hr),this._isFirstRender=!0},i.prototype.getContentGroup=function(){return this._contentGroup},i.prototype.getSelectorGroup=function(){return this._selectorGroup},i.prototype.render=function(t,e,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),r=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===r?"right":"left");var a=t.get("selector",!0),s=t.get("selectorPosition",!0);!a||s&&"auto"!==s||(s="horizontal"===r?"end":"start"),this.renderInner(o,t,e,i,a,r,s);var l=t.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},u=t.get("padding"),h=H(l,d,u),p=this.layoutInner(t,o,h,n,a,s),c=H(ct({width:p.width,height:p.height},l),d,u);this.group.x=c.x-p.x,this.group.y=c.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=dr(p,t))}},i.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},i.prototype.renderInner=function(e,i,n,o,r,a,s){var l=this.getContentGroup(),d=jt(),u=i.get("selectedMode"),h=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&h.push(t.id)})),Vr(i.getData(),(function(r,a){var s=r.get("name");if(!this.newlineDisabled&&(""===s||"\n"===s)){var p=new Hr;return p.newline=!0,void l.add(p)}var c=n.getSeriesByName(s)[0];if(!d.get(s))if(c){var g=c.getData(),f=g.getVisual("legendLineStyle")||{},y=g.getVisual("legendIcon"),m=g.getVisual("style");this._createItem(c,s,a,r,i,e,f,m,y,u).on("click",Gr(Ur,s,null,o,h)).on("mouseover",Gr(Fr,c.name,null,o,h)).on("mouseout",Gr(Yr,c.name,null,o,h)),d.set(s,!0)}else n.eachRawSeries((function(n){if(!d.get(s)&&n.legendVisualProvider){var l=n.legendVisualProvider;if(!l.containName(s))return;var p=l.indexOfName(s),c=l.getItemVisual(p,"style"),g=l.getItemVisual(p,"legendIcon"),f=t(c.fill);f&&0===f[3]&&(f[3]=.2,c.fill=Ne(f,"rgba")),this._createItem(n,s,a,r,i,e,{},c,g,u).on("click",Gr(Ur,null,s,o,h)).on("mouseover",Gr(Fr,null,s,o,h)).on("mouseout",Gr(Yr,null,s,o,h)),d.set(s,!0)}}),this)}),this),r&&this._createSelector(r,i,o,a,s)},i.prototype._createSelector=function(t,e,i,n,o){var r=this.getSelectorGroup();Vr(t,(function(t){var n=t.type,o=new K({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});r.add(o);var a=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);O(o,{normal:a,emphasis:s},{defaultText:t.title}),R(o)}))},i.prototype._createItem=function(t,e,i,n,o,r,a,s,l,d){var u=t.visualDrawType,h=o.get("itemWidth"),p=o.get("itemHeight"),c=o.isSelected(e),g=n.get("symbolRotate"),f=n.get("symbolKeepAspect"),y=n.get("icon"),m=function(t,e,i,n,o,r){function a(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),Vr(t,(function(i,n){"inherit"===t[n]&&(t[n]=e[n])}))}var s=e.getModel("itemStyle").getItemStyle(),l=0===t.lastIndexOf("empty",0)?"fill":"stroke";s.decal=n.decal,"inherit"===s.fill&&(s.fill=n[o]);"inherit"===s.stroke&&(s.stroke=n[l]);"inherit"===s.opacity&&(s.opacity=("fill"===o?n:i).opacity);a(s,n);var d=e.getModel("lineStyle"),u=d.getLineStyle();if(a(u,i),"auto"===s.fill&&(s.fill=n.fill),"auto"===s.stroke&&(s.stroke=n.fill),"auto"===u.stroke&&(u.stroke=n.fill),!r){var h=e.get("inactiveBorderWidth"),p=s[l];s.lineWidth="auto"===h?n.lineWidth>0&&p?2:0:s.lineWidth,s.fill=e.get("inactiveColor"),s.stroke=e.get("inactiveBorderColor"),u.stroke=d.get("inactiveColor"),u.lineWidth=d.get("inactiveWidth")}return{itemStyle:s,lineStyle:u}}(l=y||l||"roundRect",n,a,s,u,c),x=new Hr,_=n.getModel("textStyle");if("function"!=typeof t.getLegendIcon||y&&"inherit"!==y){var b="inherit"===y&&t.getData().getVisual("symbol")?"inherit"===g?t.getData().getVisual("symbolRotate"):g:0;x.add(function(t){var e=t.icon||"roundRect",i=Ot(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);i.setStyle(t.itemStyle),i.rotation=(t.iconRotate||0)*Math.PI/180,i.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2);return i}({itemWidth:h,itemHeight:p,icon:l,iconRotate:b,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:f}))}else x.add(t.getLegendIcon({itemWidth:h,itemHeight:p,icon:l,iconRotate:g,itemStyle:m.itemStyle,lineStyle:m.lineStyle,symbolKeepAspect:f}));var w="left"===r?h+5:-5,A=r,S=o.get("formatter"),I=e;"string"==typeof S&&S?I=S.replace("{name}",null!=e?e:""):"function"==typeof S&&(I=S(e));var M=n.get("inactiveColor");x.add(new K({style:Bt(_,{text:I,x:w,y:p/2,fill:c?_.getTextColor():M,align:A,verticalAlign:"middle"})}));var C=new v({shape:x.getBoundingRect(),invisible:!0}),T=n.getModel("tooltip");return T.get("show")&&Et({el:C,componentModel:o,itemName:e,itemTooltipOption:T.option}),x.add(C),x.eachChild((function(t){t.silent=!0})),C.silent=!d,this.getContentGroup().add(x),R(x),x.__legendDataIndex=i,x},i.prototype.layoutInner=function(t,e,i,n,o,r){var a=this.getContentGroup(),s=this.getSelectorGroup();he(t.get("orient"),a,t.get("itemGap"),i.width,i.height);var l=a.getBoundingRect(),d=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),o){he("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),h=[-u.x,-u.y],p=t.get("selectorButtonGap",!0),c=t.getOrient().index,g=0===c?"width":"height",f=0===c?"height":"width",y=0===c?"y":"x";"end"===r?h[c]+=l[g]+p:d[c]+=u[g]+p,h[1-c]+=l[f]/2-u[f]/2,s.x=h[0],s.y=h[1],a.x=d[0],a.y=d[1];var m={x:0,y:0};return m[g]=l[g]+p+u[g],m[f]=Math.max(l[f],u[f]),m[y]=Math.min(0,u[y]+h[1-c]),m}return a.x=d[0],a.y=d[1],this.group.getBoundingRect()},i.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},i.type="legend.plain",i}(Xt);function Zr(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0}))}function jr(t,e,i){var n,o={},r="toggleSelected"===t;return i.eachComponent("legend",(function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),n=i.isSelected(e.name));var s=i.getData();a(s,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&n:o[e]=n}}))})),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}function Kr(t){t.registerComponentModel(zr),t.registerComponentView(Xr),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,Zr),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",z(jr,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",z(jr,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",z(jr,"inverseSelect")),t.registerAction("legendSelect","legendselected",z(jr,"select")),t.registerAction("legendUnSelect","legendunselected",z(jr,"unSelect"))}(t)}function qr(t,e,i){var n=[1,1];n[t.getOrient().index]=0,yt(e,i,{type:"box",ignoreSize:!!n})}var Jr=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return d(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,i,n){var o=ft(e);t.prototype.init.call(this,e,i,n),qr(this,e,o)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),qr(this,this.option,e)},e.type="legend.scroll",e.defaultOption=S(zr.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(zr),Qr=D,$r=["width","height"],ta=["x","y"],ea=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!0,i._currentIndex=0,i}return d(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Qr),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Qr)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,i,n,o,r,a,s){var l=this;t.prototype.renderInner.call(this,e,i,n,o,r,a,s);var d=this._controllerGroup,u=i.get("pageIconSize",!0),h=m(u)?u:[u,u];c("pagePrev",0);var p=i.getModel("pageTextStyle");function c(t,e){var n=t+"DataIndex",r=Jt(i.get("pageIcons",!0)[i.getOrient().name][e],{onclick:nt(l._pageGo,l,n,i,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});r.name=t,d.add(r)}d.add(new K({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),c("pageNext",1)},e.prototype.layoutInner=function(t,e,i,n,o,r){var a=this.getSelectorGroup(),s=t.getOrient().index,l=$r[s],d=ta[s],u=$r[1-s],h=ta[1-s];o&&he("horizontal",a,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),c=a.getBoundingRect(),g=[-c.x,-c.y],f=Yt(i);o&&(f[l]=i[l]-c[l]-p);var y=this._layoutContentAndController(t,n,f,s,l,u,h,d);if(o){if("end"===r)g[s]+=y[l]+p;else{var m=c[l]+p;g[s]-=m,y[d]-=m}y[l]+=c[l]+p,g[1-s]+=y[h]+y[u]/2-c[u]/2,y[u]=Math.max(y[u],c[u]),y[h]=Math.min(y[h],c[h]+g[1-s]),a.x=g[0],a.y=g[1],a.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,e,i,n,o,r,a,s){var l=this.getContentGroup(),d=this._containerGroup,u=this._controllerGroup;he(t.get("orient"),l,t.get("itemGap"),n?i.width:null,n?null:i.height),he("horizontal",u,t.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),p=u.getBoundingRect(),c=this._showController=h[o]>i[o],g=[-h.x,-h.y];e||(g[n]=l[s]);var f=[0,0],y=[-p.x,-p.y],m=ke(t.get("pageButtonGap",!0),t.get("itemGap",!0));c&&("end"===t.get("pageButtonPosition",!0)?y[n]+=i[o]-p[o]:f[n]+=p[o]+m);y[1-n]+=h[r]/2-p[r]/2,l.setPosition(g),d.setPosition(f),u.setPosition(y);var x={x:0,y:0};if(x[o]=c?i[o]:h[o],x[r]=Math.max(h[r],p[r]),x[a]=Math.min(0,p[a]+y[1-n]),d.__rectSize=i[o],c){var _={x:0,y:0};_[o]=Math.max(i[o]-p[o]-m,0),_[r]=x[r],d.setClipPath(new v({shape:_})),d.__rectSize=_[o]}else u.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var b=this._getPageInfo(t);return null!=b.pageIndex&&M(l,{x:b.contentPosition[0],y:b.contentPosition[1]},c?t:null),this._updatePageInfoView(t,b),x},e.prototype._pageGo=function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var i=this._controllerGroup;a(["pagePrev","pageNext"],(function(n){var o=null!=e[n+"DataIndex"],r=i.childOfName(n);r&&(r.setStyle("fill",o?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=o?"pointer":"default")}));var n=i.childOfName("pageText"),o=t.get("pageFormatter"),r=e.pageIndex,s=null!=r?r+1:0,l=e.pageCount;n&&o&&n.setStyle("text",oe(o)?o.replace("{current}",null==s?"":s+"").replace("{total}",null==l?"":l+""):o({current:s,total:l}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,r=$r[o],a=ta[o],s=this._findTargetItemIndex(e),l=i.children(),d=l[s],u=l.length,h=u?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var c=v(d);p.contentPosition[o]=-c.s;for(var g=s+1,f=c,y=c,m=null;g<=u;++g)(!(m=v(l[g]))&&y.e>f.s+n||m&&!x(m,f.s))&&(f=y.i>f.i?y:m)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=f.i),++p.pageCount),y=m;for(g=s-1,f=c,y=c,m=null;g>=-1;--g)(m=v(l[g]))&&x(y,m.s)||!(f.i<y.i)||(y=f,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=f.i),++p.pageCount,++p.pageIndex),f=m;return p;function v(t){if(t){var e=t.getBoundingRect(),i=e[a]+t[a];return{s:i,e:i+e[r],i:t.__legendDataIndex}}}function x(t,e){return t.e>=e&&t.s<=e+n}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(n,o){var r=n.__legendDataIndex;null==i&&null!=r&&(i=o),r===t&&(e=o)})),null!=e?e:i):0;var e,i},e.type="legend.scroll",e}(Xr);function ia(t){ue(Kr),t.registerComponentModel(Jr),t.registerComponentView(ea),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(i)}))}))}(t)}function na(t){ue(Kr),ue(ia)}export{to as A,Ri as B,ar as C,po as D,ho as E,Ro as F,No as G,Eo as H,lr as I,dr as J,An as L,zi as S,In as a,Er as b,Nr as c,na as d,sr as e,ln as f,Ii as g,Mi as h,Si as i,Li as j,Ci as k,Ti as l,Oi as m,bo as n,wn as o,kn as p,gn as q,On as r,Di as s,xn as t,ko as u,Po as v,Lo as w,Bo as x,zo as y,lo as z};
