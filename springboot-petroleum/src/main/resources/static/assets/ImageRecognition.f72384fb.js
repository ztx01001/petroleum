import{d as e,r as o,m as a,E as s,F as l,a as t,o as r,c as n,f as u,w as i,i as d,v as c}from"./vendor.a2f65e0a.js";import{a as g}from"./api.c7737167.js";var p=e({name:"ImageRecognition",setup(){const e=o(""),s=o(""),l=o(!1),t=o(""),r=o(null),n=o=>{l.value=!0,s.value=o.url,console.log(o);var n=new FileReader;n.readAsDataURL(o.file),n.onload=()=>{e.value=n.result,console.log(n.result),a.post(g.ai_recognition,{img:e.value}).then((e=>{var o;console.log(e),200===e.status&&(t.value=e.data),null==(o=r.value)||o.clear(),l.value=!1}))},n.onerror=function(e){console.log("Error: ",e)}};return{upload:r,show:l,customRequest:e=>{console.log(e),e.file&&n(e.file)},image:t,async beforeUpload(e){var o;console.log();let a=null==(o=e.file.file)?void 0:o.type;return"image/jpg"===a||"image/jpeg"===a||(window.$message.error("只能上传jpg格式的图片文件，请重新上传"),!1)}}},mounted(){},methods:{}});s("data-v-1d34b8ee");const m={class:"warning-page"},f=d("h1",{style:{"margin-top":"0","margin-bottom":"30px"}},"智慧油田自动巡检图像识别",-1),v=c("选择JPG图片自动检测"),w={style:{"margin-top":"50px"}};l(),p.render=function(e,o,a,s,l,c){const g=t("n-button"),p=t("n-upload"),h=t("n-image"),b=t("n-spin");return r(),n("div",m,[f,u(b,{show:e.show},{default:i((()=>[u(p,{ref:"upload",action:"",onBeforeUpload:e.beforeUpload,"custom-request":e.customRequest,"show-file-list":!1},{default:i((()=>[u(g,{type:"success",size:"large"},{default:i((()=>[v])),_:1})])),_:1},8,["onBeforeUpload","custom-request"]),d("div",w,[u(h,{src:e.image},null,8,["src"])])])),_:1},8,["show"])])},p.__scopeId="data-v-1d34b8ee";export{p as default};
